(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n(2),a=n(66),s=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"41bf619d-5f1e-4bc5-8bd8-728246f3affc"}}),c={endpoint:"users",getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("".concat(this.endpoint,"?page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))}},i={endpoint:"profile/",getProfile:function(e){return s.get(this.endpoint+e).then((function(e){return e.data}))},getStatus:function(e){return s.get(this.endpoint+"status/"+e).then((function(e){return e.data}))},updateStatus:function(e){return s.put(this.endpoint+"status/",{status:e})},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),s.put(this.endpoint+"photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return s.put(this.endpoint,Object(r.a)({},e))}},o={endpoint:"follow/",follow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.post(this.endpoint+e,t).then((function(e){return e.data}))},unFollow:function(e){return s.delete(this.endpoint+e).then((function(e){return e.data}))}},u={endpoint:"auth/",auth:function(){return s.get(this.endpoint+"me").then((function(e){return e.data}))},login:function(e){return s.post(this.endpoint+"login",Object(r.a)({},e)).then((function(e){return e.data}))},logout:function(){return s.delete(this.endpoint+"login").then((function(e){return e.data}))}},l={endpoint:"security/",getCaptcha:function(){return s.get(this.endpoint+"get-captcha-url")}}},function(e,t,n){e.exports={title:"Settings_title__1VWwB",form:"Settings_form__gt1PO",mainSettings:"Settings_mainSettings__3n7m6",contactsContainer:"Settings_contactsContainer__1Jezh",fieldContainer:"Settings_fieldContainer__1Qi3-",checkbox:"Settings_checkbox__2BFL2",errorContainer:"Settings_errorContainer__1cdIp",activeError:"Settings_activeError__1gpL3",submit:"Settings_submit__2rTqQ"}},function(e,t,n){e.exports={nav:"Navbar_nav__EvjId",item:"Navbar_item__1nyvK",link:"Navbar_link__1nh7S",current:"Navbar_current__L7CIc"}},,,,,,function(e,t,n){e.exports={paginationContainer:"Pagination_paginationContainer__t_Syo",pagination:"Pagination_pagination__1C_Ur",dotsWithinPags:"Pagination_dotsWithinPags__3OVVV",pagination_btn:"Pagination_pagination_btn__JuFj6",step_btn:"Pagination_step_btn__3McGi",selectedPage:"Pagination_selectedPage__24Luf",userInput:"Pagination_userInput__3i6xh"}},function(e,t,n){"use strict";n(1);var r=n.p+"static/media/icons.b28d23b7.svg",a=n(0);t.a=function(e){var t=e.name;return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:Object(a.jsx)("use",{xlinkHref:"".concat(r,"#").concat(t)})})}},,,function(e,t,n){e.exports={textarea:"FormsControls_textarea__3X6h4",input:"FormsControls_input__3umBr",error:"FormsControls_error__3aR7y",errorContainer:"FormsControls_errorContainer__BGS7D",entry_field:"FormsControls_entry_field__3cs_3"}},function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return g}));var r=n(2),a=n(5),s=n(29),c=n(24),i=n.n(c),o=n(4),u=n.n(o),l=n(21),b=n(0),j=["label","register","required","maxLength","errors"],d=["label","register","required","maxLength","errors","isErrorStyle"],f=function(e){var t=e.label,n=e.register,c=e.required,o=e.maxLength,d=e.errors,f=Object(s.a)(e,j),O=d.hasOwnProperty(t);return Object(b.jsxs)("div",{className:u()(Object(a.a)({},i.a.error,O)),children:[Object(b.jsx)("textarea",Object(r.a)(Object(r.a)({className:u()(i.a.textarea,i.a.entry_field)},n(t,{required:c,maxLength:o})),f)),O?Object(b.jsxs)("div",{className:i.a.errorContainer,children:[Object(b.jsx)(l.a,{name:"form_error"}),Object(b.jsx)("span",{children:d[t].message})]}):null]})},O=function(e){var t=e.label,n=e.register,c=e.required,o=e.maxLength,j=e.errors,f=e.isErrorStyle,O=Object(s.a)(e,d),g=j.hasOwnProperty(t);return Object(b.jsxs)("div",{className:u()(Object(a.a)({},i.a.error,g||f)),children:[Object(b.jsx)("input",Object(r.a)(Object(r.a)({},O),{},{className:u()(i.a.input,i.a.entry_field)},n(t,{required:c,maxLength:o}))),g&&"required"!==j[t].type?Object(b.jsxs)("div",{className:i.a.errorContainer,children:[Object(b.jsx)(l.a,{name:"form_error"}),Object(b.jsx)("span",{children:j[t].message})]}):null]})},g=function(e){var t,n=e.register,s=e.label,c=e.required,o=e.errors;return c&&(t=o.hasOwnProperty(s)),Object(b.jsxs)("div",{className:u()(Object(a.a)({},i.a.error,t)),children:[Object(b.jsx)("input",Object(r.a)({type:"checkbox",className:u()(i.a.checkbox)},n(s,{required:c}))),t?Object(b.jsx)("div",{className:i.a.errorContainer,children:Object(b.jsx)("span",{children:"Field is required"})}):null]})}},function(e,t,n){e.exports={login:"Login_login__1wY_2",header:"Login_header__k3LnE",container:"Login_container__3O5MJ",form:"Login_form__1gzeu",fieldContainer:"Login_fieldContainer__wFQqf",remember_label:"Login_remember_label__29TjB",formSummaryError:"Login_formSummaryError__1_lNx",submit:"Login_submit__3MwP6",captchaContainer:"Login_captchaContainer__3HEVg"}},function(e,t,n){e.exports={header:"Header_header__3ygEQ",hide:"Header_hide__1Ou0e",loginLink:"Header_loginLink__1P63o",title:"Header_title__29jBk",shortTitle:"Header_shortTitle__2-WzH",loginBlock:"Header_loginBlock__YF7Lk",loginPanel:"Header_loginPanel__3AOHA",userInfo:"Header_userInfo__xiwL7",userName:"Header_userName__2fPDc"}},function(e,t,n){e.exports={user:"User_user__3gscj",userLeft:"User_userLeft__Fbxi-",userRight:"User_userRight__2O6On",userName:"User_userName__YuSkB",userStatus:"User_userStatus__3OHGU",followBtn:"User_followBtn__3CPzt",unfollowed:"User_unfollowed__1myDM",followed:"User_followed__1UMKq"}},,,function(e,t,n){"use strict";var r=n(51),a=n.n(r),s=n(0);t.a=function(e){return Object(s.jsx)("div",{className:a.a.container,children:Object(s.jsxs)("div",{className:a.a.lds_facebook,children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return L})),n.d(t,"g",(function(){return A}));var r=n(3),a=n.n(r),s=n(7),c=n(9),i=n(2),o=n(30),u=n(12),l="PROFILE_PAGE__ADD_POST",b="PROFILE_PAGE__SET_USER_PROFILE",j="PROFILE_PAGE__TOGGLE_PROFILE_LOADING",d="PROFILE_PAGE__SET_USER_STATUS",f="PROFILE_PAGE__DELETE_POST",O="PROFILE_PAGE__UPLOAD_PHOTO",g="SET_OWNER_PROFILE",h="SET_OWNER_STATUS",p={postsData:[{id:1,postText:"Hello? How are you?"},{id:2,postText:"London is the capital of Great Britain, did you know?"},{id:3,postText:"Kak menya vse zaebalo, hochu obratno domoy v Japan"}],profile:null,ownerProfile:null,profileIsLoading:!1,status:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{postsData:[{id:e.postsData.length+1,postText:t.newPostbody,image:t.avatar}].concat(Object(c.a)(e.postsData))});case b:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case g:return Object(i.a)(Object(i.a)({},e),{},{ownerProfile:Object(i.a)(Object(i.a)({},e.ownerProfile),t.profile)});case j:return Object(i.a)(Object(i.a)({},e),{},{profileIsLoading:t.isProfileLoading});case d:return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{status:t.status})});case h:return Object(i.a)(Object(i.a)({},e),{},{ownerProfile:Object(i.a)(Object(i.a)({},e.ownerProfile),{},{status:t.status})});case f:return Object(i.a)(Object(i.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.id}))});case O:return Object(i.a)(Object(i.a)({},e),{},{ownerProfile:Object(i.a)(Object(i.a)({},e.ownerProfile),{},{photos:Object(i.a)({},t.photos)})});default:return e}};var m=function(e,t){return{type:l,avatar:e,newPostbody:t}},x=function(e){return{type:b,profile:e}},_=function(e){return{type:g,profile:e}},v=function(e){return{type:j,isProfileLoading:e}},w=function(e){return{type:d,status:e}},N=function(e){return{type:h,status:e}},P=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(!0)),e.next=3,u.c.getProfile(n);case 3:s=e.sent,t(r(s)),t(v(!1));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.c.getStatus(n);case 2:s=e.sent,t(r(s));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(e){return function(t){return P(t,e,x)}},S=function(e){return function(t){return P(t,e,_)}},C=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y(n,e,w));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y(n,e,N));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.updateStatus(e);case 2:if(0!==(r=t.sent).data.resultCode){t.next=8;break}n(N(e)),o.b.success("Status updated"),t.next=11;break;case 8:throw s=r.data.messages.length>0?r.data.messages[0]:"Some error",o.b.error(s),new Error;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.uploadPhoto(e);case 2:0===(r=t.sent).data.resultCode?(n((a=r.data.data.photos,{type:O,photos:a})),o.b.success("Photo updated")):(s=r.data.messages.length>0?r.data.messages[0]:"Some error",o.b.error(s));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s,c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.userId,t.next=3,u.c.saveProfile(e);case 3:if(c=t.sent,0!==(i=c.data).resultCode){t.next=10;break}n(S(s)),o.b.success("Profile updated"),t.next=12;break;case 10:throw i.messages.length>0?i.messages[0]:"Some error";case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),a=n(29),s=n(1),c=n(11),i=n(37),o=n(0),u=["toggleSidebar"],l=function(e){return Object(c.b)((function(){return{}}),{toggleSidebar:i.b})((function(t){var n=t.toggleSidebar,c=Object(a.a)(t,u);return Object(s.useEffect)((function(){n(!1)}),[n]),Object(o.jsx)(e,Object(r.a)({},c))}))}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(2),a="TOGGLE_SIDEBAR",s={isSidebarOpen:!1,friendsList:[{id:1,name:"Dimych"},{id:2,name:"Artem"},{id:3,name:"Nastya"},{id:4,name:"Olga"},{id:5,name:"Lesha Domachuk"}]},c=function(e){return function(t){t(function(e){return{type:a,payload:e}}(e))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:return Object(r.a)(Object(r.a)({},e),{},{isSidebarOpen:"boolean"===typeof t.payload?t.payload:!e.isSidebarOpen});default:return e}}},function(e,t,n){e.exports={menu:"MenuButton_menu__3hN0Y",menuBtn:"MenuButton_menuBtn__vGGyi",isOpen:"MenuButton_isOpen__3-6vT",menuBurger:"MenuButton_menuBurger__1gC2t",menuExit:"MenuButton_menuExit__2KLi2"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return{value:e,message:"Maximum length ".concat(e," characters")}}},,,function(e,t,n){e.exports={friend:"Friend_friend__39SU3",friendLink:"Friend_friendLink__3LN-Y",avatar:"Friend_avatar__3DubV",name:"Friend_name__3ePRE"}},function(e,t,n){"use strict";t.a="data:image/png;base64,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"},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),a=n(29),s=(n(1),n(11)),c=n(8),i=n(0),o=["isAuth"],u=function(e){return Object(s.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var n=t.isAuth,s=Object(a.a)(t,o);return n?Object(i.jsx)(e,Object(r.a)({},s)):Object(i.jsx)(c.a,{to:"/login"})}))}},,function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__1QnXR",active:"Sidebar_active__1Avnw"}},function(e,t,n){e.exports={users:"Users_users__3yTIs",showMore:"Users_showMore__3HPgs"}},function(e,t,n){e.exports={wrapper:"Page404_wrapper__1QCW_",container:"Page404_container__1Vij9",b:"Page404_b__1a9Hw"}},,,function(e,t,n){e.exports={container:"Loader_container__3Pk9Q",lds_facebook:"Loader_lds_facebook__20Jgv"}},,,function(e,t,n){e.exports={friendsbar:"Friendsbar_friendsbar__3CV9T",friends_list:"Friendsbar_friends_list__2L2oa"}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9),a=n(2),s="ADD-MESSAGE-TO-DIALOG_TEST",c={dialogsData:[{id:1,userId:2,name:"Dimych"},{id:2,userId:99992,name:"Nastya"},{id:3,userId:99993,name:"Artem"},{id:4,userId:99994,name:"Lesha Domachuk"},{id:5,userId:99995,name:"Olga"}],messagesData:[{messageId:1,dialogsId:1,userId:18640,messageText:"Hello Dimych!"},{messageId:2,dialogsId:1,userId:2,messageText:"Hi Artem!"},{messageId:3,dialogsId:1,userId:2,messageText:"How are you?"},{messageId:4,dialogsId:4,userId:99994,messageText:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0443\u0439\u0442\u0435! \u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0410\u043b\u0435\u043a\u0441\u0435\u0439, \u044f \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u041e\u0440\u0438\u0444\u043b\u0435\u0439\u043c. \u0415\u0441\u0442\u044c \u0432\u044b\u0433\u043e\u0434\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0432\u0430\u0441, \u043e\u0442 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f =)"},{messageId:5,dialogsId:5,userId:99995,messageText:"JavaScript is my favorite programming language"},{messageId:6,dialogsId:5,userId:18640,messageText:"My to =))"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(a.a)(Object(a.a)({},e),{},{messagesData:[].concat(Object(r.a)(e.messagesData),[{messageId:e.messagesData.length+1,dialogsId:t.dialogsId,userId:t.userId,messageText:t.messageText}])});default:return e}};var i=function(e,t){return function(n,r){var a=r().auth.userId;n(function(e,t,n){return{type:s,dialogsId:e,userId:t,messageText:n}}(e,a,t))}}},function(e,t,n){"use strict";var r=n(21),a=n(69),s=n.n(a),c=n(4),i=n.n(c),o=n(0);t.a=function(e){var t=e.text;return Object(o.jsxs)("div",{className:i()(s.a.container,"info"),children:[Object(o.jsx)(r.a,{name:"error_info"}),Object(o.jsx)("span",{children:t})]})}},,,,function(e,t,n){e.exports={news:"News_news__3bMP8"}},function(e,t,n){e.exports={container:"Info_container__2rxfE"}},,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(34),s=n.n(a),c=(n(75),n(8)),i=n(16),o=n(11),u=n(22),l=n(32),b=n(63),j=n(37),d=n(3),f=n.n(d),O=n(7),g=n(9),h=n(2),p=n(12),m=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(h.a)(Object(h.a)({},e),r):e}))},x="FOLLOW",_="UNFOLLOW",v="SET_USERS",w="SET_CURRENT_PAGE",N="SET_TOTAL_USERS_COUNT",P="TOGGLE_IS_FOLLOWING",y={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(h.a)(Object(h.a)({},e),{},{users:m(e.users,t.userId,"id",{followed:!0})});case _:return Object(h.a)(Object(h.a)({},e),{},{users:m(e.users,t.userId,"id",{followed:!1})});case v:return Object(h.a)(Object(h.a)({},e),{},{users:t.users});case w:return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.pageNumber});case N:return Object(h.a)(Object(h.a)({},e),{},{totalUsersCount:t.count});case P:return Object(h.a)(Object(h.a)({},e),{},{followingInProgress:t.isFollowingToggle?[].concat(Object(g.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},S=function(e){return{type:x,userId:e}},C=function(e){return{type:_,userId:e}},E=function(e,t){return{type:P,isFollowingToggle:e,userId:t}},I=function(){var e=Object(O.a)(f.a.mark((function e(t,n,r,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n)),t(E(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),L="samurai-network/auth/SET_USER_DATA",A="samurai-network/auth/SET_CAPTCHA_URL",F={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},T=function(e,t,n,r){return{type:L,payload:{userId:e,email:t,login:n,isAuth:r}}},U=function(e){return{type:A,payload:{captchaUrl:e}}},R=function(){return function(){var e=Object(O.a)(f.a.mark((function e(t){var n,r,a,s,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.auth();case 2:if(n=e.sent,r=n.resultCode,a=n.data,0!==r){e.next=9;break}return s=a.login,c=a.id,i=a.email,t(T(c,i,s,!0)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.d.getCaptcha();case 2:n=e.sent,t(U(n.data.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:case A:return Object(h.a)(Object(h.a)({},e),t.payload);default:return e}},q=n(67),Y="SET_INITIALIZED_APP",V={initialized:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(h.a)(Object(h.a)({},e),{},{initialized:!0});default:return e}},B=Object(u.b)({app:H,profilePage:l.b,dialogsPage:b.b,sidebar:j.a,usersPage:k,auth:G}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,z=Object(u.d)(B,Object(u.c)(Object(u.a)(q.a),M()));window.store=z;var K=z,W=n(31),Q=n(0),J=function(e){return function(t){return Object(Q.jsx)(r.Suspense,{fallback:Object(Q.jsx)(W.a,{}),children:Object(Q.jsx)(e,Object(h.a)({},t))})}},X=(n(101),n(102),n(10)),Z=n(5),$=n(27),ee=n.n($),te=n(21),ne=n(38),re=n.n(ne),ae=n(4),se=n.n(ae),ce=function(e){var t,n=e.onClickFunction,r=e.isOpen;return Object(Q.jsx)("div",{onClick:n,className:re.a.menu,children:Object(Q.jsxs)("span",{className:se()((t={},Object(Z.a)(t,re.a.menuBtn,!0),Object(Z.a)(t,re.a.isOpen,r),t)),children:[Object(Q.jsx)("span",{className:re.a.menuBurger}),Object(Q.jsx)("span",{className:re.a.menuExit})]})})},ie=function(e){var t,n=e.isAuth,r=e.userName,a=e.logout,s=e.isOpen,c=e.toggleSidebar,o=e.isVisible;e.setVisible;return Object(Q.jsxs)("header",{className:se()((t={},Object(Z.a)(t,ee.a.header,!0),Object(Z.a)(t,ee.a.hide,o),t)),children:[Object(Q.jsx)(ce,{isOpen:s,onClickFunction:c}),Object(Q.jsxs)("h1",{className:ee.a.title,children:[Object(Q.jsx)("span",{children:"S"}),"ocial N",Object(Q.jsx)("span",{}),"etwor",Object(Q.jsx)("span",{children:"k"})]}),Object(Q.jsxs)("h1",{className:ee.a.shortTitle,children:[Object(Q.jsx)("span",{children:"S"}),"N"]}),Object(Q.jsx)("div",{className:ee.a.loginBlock,children:n?Object(Q.jsxs)("div",{className:ee.a.loginPanel,children:[Object(Q.jsx)(i.b,{to:"/profile",className:ee.a.userInfo,children:Object(Q.jsx)("span",{className:ee.a.userName,children:r})}),Object(Q.jsx)("span",{style:{margin:"0 5px"},children:"|"}),Object(Q.jsxs)("button",{onClick:a,children:[Object(Q.jsx)(te.a,{name:"logout"}),Object(Q.jsx)("span",{children:"Logout"})]})]}):Object(Q.jsxs)(i.b,{to:"/login",className:ee.a.loginLink,children:[Object(Q.jsx)(te.a,{name:"login"}),Object(Q.jsx)("span",{children:"Login"})]})})]})},oe=Object(o.b)((function(e){return{isAuth:e.auth.isAuth,userName:e.auth.login,isOpen:e.sidebar.isSidebarOpen}}),{logout:function(){return function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.logout();case 2:0===e.sent.resultCode&&(t(T(null,null,null,!1)),t(R()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},toggleSidebar:j.b})((function(e){var t=Object(r.useState)(!1),n=Object(X.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(window.scrollY),i=Object(X.a)(c,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=function(){window.scrollY>o?(s(!0),u(window.scrollY)):window.scrollY<o&&(s(!1),u(window.scrollY))};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[o]),Object(Q.jsx)(ie,Object(h.a)(Object(h.a)({},e),{},{isVisible:a,setVisible:s}))})),ue=n(46),le=n.n(ue),be=n(14),je=n.n(be),de=n.p+"static/media/icons.78c7bf79.svg",fe=function(e){var t=e.name;return Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:Object(Q.jsx)("use",{xlinkHref:"".concat(de,"#").concat(t)})})},Oe=function(){return Object(Q.jsx)("nav",{className:je.a.nav,children:Object(Q.jsxs)("ul",{className:"list",children:[Object(Q.jsxs)("li",{className:je.a.item,children:[Object(Q.jsx)(fe,{name:"profile"}),Object(Q.jsx)(i.b,{to:"/profile",className:je.a.link,activeClassName:je.a.current,children:"Profile"})]}),Object(Q.jsxs)("li",{className:je.a.item,children:[Object(Q.jsx)(fe,{name:"messages"}),Object(Q.jsx)(i.b,{to:"/dialogs",className:je.a.link,activeClassName:je.a.current,children:"Messages"})]}),Object(Q.jsxs)("li",{className:je.a.item,children:[Object(Q.jsx)(fe,{name:"news"}),Object(Q.jsx)(i.b,{to:"/news",className:je.a.link,activeClassName:je.a.current,children:"News"})]}),Object(Q.jsxs)("li",{className:je.a.item,children:[Object(Q.jsx)(fe,{name:"users"}),Object(Q.jsx)(i.b,{to:"/users",className:je.a.link,activeClassName:je.a.current,children:"Users"})]}),Object(Q.jsxs)("li",{className:je.a.item,children:[Object(Q.jsx)(fe,{name:"settings"}),Object(Q.jsx)(i.b,{to:"settings",className:je.a.link,activeClassName:je.a.current,children:"Settings"})]})]})})},ge=n(54),he=n.n(ge),pe=n(42),me=n.n(pe),xe=n(43),_e=function(e){return Object(Q.jsx)("li",{className:me.a.friend,children:Object(Q.jsxs)("a",{href:"/profile",className:me.a.friendLink,children:[Object(Q.jsx)("img",{src:xe.a,alt:"avatar",className:me.a.avatar}),Object(Q.jsx)("span",{className:me.a.name,children:e.name})]})})},ve=function(e){return Object(Q.jsxs)("div",{className:he.a.friendsbar,children:[Object(Q.jsx)("h3",{children:"Friends"}),Object(Q.jsx)("ul",{className:he.a.friends_list,children:e.friendsList.map((function(e){return Object(Q.jsx)(_e,{id:e.id,name:e.name},e.id)}))})]})},we=Object(o.b)((function(e){return{friendsList:e.sidebar.friendsList,isOpen:e.sidebar.isSidebarOpen}}),{})((function(e){var t,n=e.friendsList,r=e.isOpen;return Object(Q.jsx)("aside",{className:se()((t={},Object(Z.a)(t,le.a.sidebar,!0),Object(Z.a)(t,le.a.active,r),t)),children:Object(Q.jsxs)("div",{className:le.a.contentWrapper,children:[Object(Q.jsx)(Oe,{}),Object(Q.jsx)(ve,{friendsList:n})]})})})),Ne=n(68),Pe=n.n(Ne),ye=n(64),ke=n(33),Se=Object(ke.a)((function(e){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("h2",{className:Pe.a.news,children:"News"}),Object(Q.jsx)(ye.a,{text:"This is a test component. Current version of API not supporting this functional yet"})]})})),Ce=n(29),Ee=n(47),Ie=n.n(Ee),Le=n(20),Ae=n.n(Le),Fe=function(e){var t,n=e.pageNumber,r=e.onPageChanged,a=e.currentPage===n;return Object(Q.jsx)("button",{className:se()((t={},Object(Z.a)(t,Ae.a.pagination_btn,!0),Object(Z.a)(t,Ae.a.selectedPage,a),t)),onClick:function(){return r(n)},disabled:a,children:n})},Te=function(e){var t=e.lastPageNumber,n=e.goToPage,a=Object(r.useState)(""),s=Object(X.a)(a,2),c=s[0],i=s[1];return Object(Q.jsxs)("div",{className:Ae.a.userInput,children:[Object(Q.jsx)("input",{type:"text",value:c,className:"entry_field",onChange:function(e){return i(e.target.value)}}),Object(Q.jsx)("button",{className:"submit_btn",disabled:""===c||c>t||c<=0||!+c,onClick:function(){i(""),n(+c)},children:"Go to"})]})},Ue=function(e){return Object(Q.jsx)("span",{className:Ae.a.dotsWithinPags,children:"..."},e.key)},Re=function(e){var t=e.currentPage,n=e.pagesNumbers,a=e.onPageChanged;return Object(Q.jsxs)("div",{className:Ae.a.paginationContainer,children:[Object(Q.jsxs)("div",{className:Ae.a.pagination,children:[Object(Q.jsx)("button",{className:se()(Ae.a.pagination_btn,Ae.a.step_btn),onClick:function(){return a(t-1)},disabled:1===t,children:"Prev"}),n.map((function(e){var s=1===e,c=e===n[n.length-1];return s?Object(Q.jsxs)(r.Fragment,{children:[Object(Q.jsx)(Fe,{pageNumber:e,onPageChanged:a,currentPage:t}),t>=e+4?Object(Q.jsx)(Ue,{}):null]},e.toString()):c?Object(Q.jsxs)(r.Fragment,{children:[t<=e-4?Object(Q.jsx)(Ue,{}):null,Object(Q.jsx)(Fe,{pageNumber:e,onPageChanged:a,currentPage:t})]},e.toString()):e>=t-2&&e<=t+2?Object(Q.jsx)(r.Fragment,{children:Object(Q.jsx)(Fe,{pageNumber:e,onPageChanged:a,currentPage:t})},e.toString()):null})),Object(Q.jsx)("button",{className:se()(Ae.a.pagination_btn,Ae.a.step_btn),onClick:function(){return a(t+1)},disabled:t===n[n.length-1],children:"Next"})]}),Object(Q.jsx)(Te,{goToPage:a,lastPageNumber:n[n.length-1]})]})},De=n(28),Ge=n.n(De),qe=n.p+"static/media/icons.af7164fe.svg",Ye=function(e){return Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:Object(Q.jsx)("use",{xlinkHref:"".concat(qe,"#").concat(e.name)})})},Ve=function(e){var t,n=e.userState,r=n.name,a=n.id,s=n.followed,c=n.status,o=n.photos;return Object(Q.jsxs)("li",{className:Ge.a.user,children:[Object(Q.jsxs)("div",{className:Ge.a.userLeft,children:[Object(Q.jsx)("img",{src:null!==(t=o.small)&&void 0!==t?t:xe.a,alt:"avatar"}),s?Object(Q.jsxs)("button",{disabled:e.isFollowing.some((function(e){return e===a})),className:se()(Ge.a.followBtn,Ge.a.followed),onClick:function(){return e.unFollow(a)},children:[" ",Object(Q.jsx)(Ye,{name:"unfollow"}),"Unfollow"]}):Object(Q.jsxs)("button",{disabled:e.isFollowing.some((function(e){return e===a})),className:se()(Ge.a.followBtn,Ge.a.unfollowed),onClick:function(){return e.follow(a)},children:[" ",Object(Q.jsx)(Ye,{name:"follow"}),"Follow"]})]}),Object(Q.jsxs)("div",{className:Ge.a.userRight,children:[Object(Q.jsx)("h4",{className:Ge.a.userName,children:r}),c&&Object(Q.jsx)("p",{className:Ge.a.userStatus,children:c})]}),Object(Q.jsx)(i.b,{to:"/profile/"+a})]})},He=function(e){var t,n=e.users,r=e.totalUsersCount,a=e.pageSize,s=e.currentPage,c=e.onPageChanged,i=e.follow,o=e.unFollow,u=e.isFollowing,l=Math.ceil(r/a),b=[];for(t=1;t<=l;t+=1)b.push(t);return Object(Q.jsxs)("section",{className:Ie.a.users,children:[Object(Q.jsx)(Re,{currentPage:s,onPageChanged:c,pagesNumbers:b}),Object(Q.jsx)("ul",{className:Ie.a.userList,children:n.map((function(e){return Object(Q.jsx)(Ve,{userState:e,follow:i,unFollow:o,isFollowing:u},e.id)}))}),s!==b.length&&Object(Q.jsx)("div",{className:Ie.a.showMore,children:Object(Q.jsx)("button",{onClick:function(){c(s+1),window.scrollTo(0,0)},children:"Show more..."})})]})},Be=n(70),Me=Object(Be.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ze=function(e){return e.usersPage.pageSize},Ke=function(e){return e.usersPage.totalUsersCount},We=function(e){return e.usersPage.currentPage},Qe=function(e){return e.usersPage.followingInProgress},Je=n(44),Xe=["currentPage","setCurrentPage","pageSize","users","requestUsers"],Ze=Object(u.c)(Object(o.b)((function(e){return{users:Me(e),pageSize:ze(e),totalUsersCount:Ke(e),currentPage:We(e),isFollowing:Qe(e)}}),{follow:function(e){return function(t){var n=p.b.follow.bind(p.b);I(t,e,n,S)}},unFollow:function(e){return function(t){var n=p.b.unFollow.bind(p.b);I(t,e,n,C)}},setCurrentPage:function(e){return{type:w,pageNumber:e}},requestUsers:function(e,t){return function(){var n=Object(O.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.e.getUsers(e,t);case 2:a=n.sent,r((c=a.items,{type:v,users:c})),r((s=a.totalCount,{type:N,count:s}));case 5:case"end":return n.stop()}var s,c}),n)})));return function(e){return n.apply(this,arguments)}}()}}),Je.a,ke.a)((function(e){var t=e.currentPage,n=e.setCurrentPage,a=e.pageSize,s=e.users,c=e.requestUsers,i=Object(Ce.a)(e,Xe),o=Object(r.useState)(!1),u=Object(X.a)(o,2),l=u[0],b=u[1];Object(r.useEffect)((function(){0===s.length&&(b(!0),c(t,a).then((function(){return b(!1)})))}),[t,a,s,b,c]);return l?Object(Q.jsx)(W.a,{}):Object(Q.jsx)(He,Object(h.a)({onPageChanged:function(e){n(e),c(e,a)},users:s,currentPage:t,pageSize:a},i))})),$e=n(13),et=n.n($e),tt=n(45),nt=n(39),rt=n(25),at=function(e){var t=e.saveProfile,n=e.profile,a=Object(tt.a)({defaultValues:Object(h.a)({},n)}),s=a.register,c=a.handleSubmit,i=a.formState.errors,o=a.clearErrors,u=Object(r.useState)(null),l=Object(X.a)(u,2),b=l[0],j=l[1];return Object(Q.jsxs)("form",{onSubmit:function(e){c(t)(e).catch((function(e){return function(e){if(e.includes("Invalid url")){var t=e.split(">")[1].slice(0,-1).toLowerCase();j({type:"contact",name:t})}else j({type:"global",text:e})}(e)}))},className:et.a.form,children:[Object(Q.jsxs)("div",{className:et.a.mainSettings,children:[Object(Q.jsx)("h2",{className:et.a.title,children:"Profile settings:"}),Object(Q.jsx)("div",{className:et.a.fieldContainer,children:Object(Q.jsxs)("label",{children:[Object(Q.jsx)("span",{children:"Full Name:"}),Object(Q.jsx)(rt.b,{type:"text",label:"fullName",placeholder:"Enter your name",errors:i,register:s,required:!0,maxLength:Object(nt.a)(100),onBlur:function(){return o()}})]})}),Object(Q.jsx)("div",{className:et.a.fieldContainer,children:Object(Q.jsxs)("label",{children:[Object(Q.jsx)("span",{children:"About me:"}),Object(Q.jsx)(rt.c,{label:"aboutMe",placeholder:"About you info",errors:i,register:s,maxLength:Object(nt.a)(315)})]})}),Object(Q.jsx)("div",{className:se()(et.a.fieldContainer,et.a.checkbox),children:Object(Q.jsxs)("label",{children:[Object(Q.jsx)("span",{children:"Looking for a job:"}),Object(Q.jsx)(rt.a,{type:"checkbox",label:"lookingForAJob",register:s})]})}),Object(Q.jsx)("div",{className:et.a.fieldContainer,children:Object(Q.jsxs)("label",{children:[Object(Q.jsx)("span",{children:"My professional skills:"}),Object(Q.jsx)(rt.c,{label:"lookingForAJobDescription",placeholder:"Your skills",errors:i,register:s,maxLength:Object(nt.a)(100)})]})})]}),Object(Q.jsxs)("div",{className:et.a.contactsContainer,children:[Object(Q.jsx)("h2",{className:et.a.title,children:"Contacts:"}),n.contacts&&Object.keys(n.contacts).map((function(e){var t,n=b&&"contact"===b.type&&b.name===e.toLowerCase();return Object(Q.jsxs)("div",{className:se()(et.a.fieldContainer),children:[Object(Q.jsxs)("label",{children:[Object(Q.jsx)("span",{children:e}),Object(Q.jsx)(rt.b,{type:"text",label:"contacts."+e,placeholder:e,errors:i,register:s,maxLength:Object(nt.a)(250),onBlur:function(){return o()},isErrorStyle:n})]}),n?Object(Q.jsx)("div",{className:se()((t={},Object(Z.a)(t,et.a.errorContainer,!0),Object(Z.a)(t,et.a.activeError,n),t)),children:Object(Q.jsx)("span",{children:"Invalid URL format"})}):null]},e)}))]}),b&&"global"===b.type?Object(Q.jsx)("div",{children:Object(Q.jsx)("span",{children:b.text})}):null,Object(Q.jsxs)("button",{className:se()("submit_btn",et.a.submit),children:["Save ",Object(Q.jsx)(te.a,{name:"save"})]})]})},st=Object(u.c)(Object(o.b)((function(e){return{userId:e.auth.userId,profile:e.profilePage.ownerProfile}}),{saveProfile:l.g}),Je.a,ke.a)((function(e){var t=e.profile,n=e.saveProfile,a=Object(r.useState)(!1),s=Object(X.a)(a,2),c=s[0],i=s[1];return Object(r.useEffect)((function(){t&&i(t.hasOwnProperty("aboutMe"))}),[t]),c?Object(Q.jsx)("section",{className:et.a.settings,children:Object(Q.jsx)(at,{profile:t,saveProfile:n})}):Object(Q.jsx)(W.a,{})})),ct=n(26),it=n.n(ct),ot=function(e){var t=e.onSubmit,n=e.captchaUrl,a=Object(tt.a)(),s=a.register,c=a.handleSubmit,i=a.formState.errors,o=Object(r.useState)(null),u=Object(X.a)(o,2),l=u[0],b=u[1];return Object(Q.jsxs)("form",{onSubmit:function(e){c(t)(e).catch((function(e){return b(e)}))},className:it.a.form,children:[Object(Q.jsx)("div",{className:it.a.fieldContainer,children:Object(Q.jsx)(rt.b,{type:"text",label:"email",placeholder:"Login",register:s,errors:i,required:!0})}),Object(Q.jsx)("div",{className:it.a.fieldContainer,children:Object(Q.jsx)(rt.b,{type:"password",label:"password",placeholder:"Password",register:s,errors:i,required:!0,onKeyPress:function(e){return"Enter"===e.key&&c(t)()}})}),Object(Q.jsxs)("label",{className:it.a.remember_label,children:[Object(Q.jsx)("span",{children:"Remember me"}),Object(Q.jsx)(rt.a,{type:"checkbox",label:"rememberMe",register:s})]}),l&&Object(Q.jsxs)("div",{className:it.a.formSummaryError,children:[Object(Q.jsx)(te.a,{name:"error_info"}),l]}),n&&Object(Q.jsxs)("div",{className:it.a.captchaContainer,children:[Object(Q.jsx)("img",{src:n,alt:"Captcha"}),Object(Q.jsx)(rt.b,{type:"text",label:"captcha",placeholder:"Enter symbols from image",register:s,errors:i,required:!0,onKeyPress:function(e){return"Enter"===e.key&&c(t)()}})]}),Object(Q.jsx)("button",{className:se()("submit_btn",it.a.submit),children:"Login"})]})},ut=Object(o.b)((function(e){var t=e.auth;return{captchaUrl:t.captchaUrl,isAuth:t.isAuth}}),{login:function(e){return function(){var t=Object(O.a)(f.a.mark((function t(n){var r,a,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.login(Object(h.a)({},e));case 2:if(r=t.sent,a=r.resultCode,s=r.messages,0!==a){t.next=10;break}n(R()),n(U(null)),t.next=13;break;case 10:throw 10===a&&n(D()),s.length>0&&(10===a?"Confirm that you are not a bot":s[0]);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.captchaUrl;return e.isAuth?Object(Q.jsx)(c.a,{to:"/profile"}):Object(Q.jsx)("div",{className:it.a.login,children:Object(Q.jsxs)("div",{className:it.a.container,children:[Object(Q.jsx)("span",{className:it.a.header,children:"Login"}),Object(Q.jsx)(ot,{onSubmit:function(e){return t(Object(h.a)({},e))},captchaUrl:n})]})})})),lt=n(48),bt=n.n(lt),jt=function(e){return Object(Q.jsx)("div",{className:bt.a.wrapper,children:Object(Q.jsxs)("div",{className:bt.a.container,children:[Object(Q.jsx)("b",{className:bt.a.b,children:"404"}),Object(Q.jsx)("br",{}),Object(Q.jsx)("span",{children:"Page not found"}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)(i.b,{to:"/profile",children:"Go to Profile page..."})]})})},dt=n(30),ft=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,116))})),Ot=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,115))})),gt=Object(u.c)(c.g,Object(o.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){Promise.all([e(R())]).then((function(t){t[0]&&(e(Object(l.c)(t[0])),e(Object(l.d)(t[0]))),e({type:Y})}))}}}))((function(e){var t=e.initializeApp,n=e.initialized,a=function(e){dt.b.error(e.reason||"Some error..."),console.error(e)};return Object(r.useEffect)((function(){return t(),window.addEventListener("unhandledrejection",a),function(){window.removeEventListener("unhandledrejection",a)}})),n?Object(Q.jsxs)("div",{className:"app-container",children:[Object(Q.jsx)(dt.a,{position:"top-center"}),Object(Q.jsx)(oe,{}),Object(Q.jsxs)("div",{className:"main-wrapper",children:[Object(Q.jsx)(we,{}),Object(Q.jsx)("main",{className:"main",children:Object(Q.jsxs)(c.d,{children:[Object(Q.jsx)(c.b,{exact:!0,path:"/",children:Object(Q.jsx)(c.a,{to:"/news"})}),Object(Q.jsx)(c.b,{path:"/profile/:userID?",render:J(ft)}),Object(Q.jsx)(c.b,{path:"/dialogs/:dialogID?",render:J(Ot)}),Object(Q.jsx)(c.b,{path:"/news",render:function(){return Object(Q.jsx)(Se,{})}}),Object(Q.jsx)(c.b,{path:"/users",render:function(){return Object(Q.jsx)(Ze,{})}}),Object(Q.jsx)(c.b,{path:"/settings",render:function(){return Object(Q.jsx)(st,{})}}),Object(Q.jsx)(c.b,{path:"/login",render:function(){return Object(Q.jsx)(ut,{})}}),Object(Q.jsx)(c.b,{path:"*",render:function(){return Object(Q.jsx)(jt,{})}})]})})]})]}):Object(Q.jsx)(W.a,{})})),ht=function(e){return Object(Q.jsx)(i.a,{children:Object(Q.jsx)(o.a,{store:K,children:Object(Q.jsx)(gt,{})})})};s.a.render(Object(Q.jsx)(ht,{}),document.getElementById("root"))}],[[107,1,2]]]);
//# sourceMappingURL=main.aa80ed1e.chunk.js.map