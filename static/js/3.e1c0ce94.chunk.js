(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{109:function(e,t,s){e.exports={profile:"ProfileInfo_profile__3njDi",userInfo:"ProfileInfo_userInfo__3hRDH",avatar:"ProfileInfo_avatar__3dm1Y",changeAvatar:"ProfileInfo_changeAvatar__xea6J",jumpingIcon:"ProfileInfo_jumpingIcon__1DQXF",description:"ProfileInfo_description__1fuub",settingsLink:"ProfileInfo_settingsLink__MdLAV",about:"ProfileInfo_about__3llCp",name:"ProfileInfo_name__3tKxi",lookingWork:"ProfileInfo_lookingWork__Skbf2",lookingWork_false:"ProfileInfo_lookingWork_false__3TXKy",lookingWork_true:"ProfileInfo_lookingWork_true__1RFV7",statusContainer:"ProfileInfo_statusContainer__1qN5h",noStatus:"ProfileInfo_noStatus__FnkU_",newStatusInput:"ProfileInfo_newStatusInput__3n3Se"}},110:function(e,t,s){e.exports={profile:"Profile_profile__2SaD3"}},111:function(e,t,s){e.exports={contacts:"Contacts_contacts__2BEuC",contactsList:"Contacts_contactsList__2fs0W",contactsItem:"Contacts_contactsItem__ug8u2",contactsTitle:"Contacts_contactsTitle__3sb4W"}},112:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__2Zkdj",header:"MyPosts_header__2_yq3",addPostBtn:"MyPosts_addPostBtn__yD0sB",info:"MyPosts_info__3QhhT",form:"MyPosts_form__MVw4m"}},113:function(e,t,s){e.exports={post:"Post_post__3NcmW",avatar:"Post_avatar__2Fnup",message:"Post_message__2tQdg"}},116:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s(29),o=s(1),r=s.n(o),c=s(11),i=s(110),l=s.n(i),u=s(5),j=s(109),f=s.n(j),b=s(43),d=s(10),_=s(0),p=function(e){var t=e.status,s=e.isOwner,a=e.updateStatus,n=Object(o.useState)(!1),r=Object(d.a)(n,2),c=r[0],i=r[1],l=Object(o.useState)(t),u=Object(d.a)(l,2),j=u[0],b=u[1];return Object(o.useEffect)((function(){b(t)}),[t]),Object(_.jsx)("div",{children:c?Object(_.jsx)("div",{children:Object(_.jsx)("textarea",{className:f.a.newStatusInput,onChange:function(e){b(e.target.value)},autoFocus:!0,onBlur:function(){i(!1),a(j).catch((function(){return b(t)}))},value:j})}):Object(_.jsx)("div",{className:f.a.statusContainer,children:Object(_.jsx)("span",{className:j?null:f.a.noStatus,onDoubleClick:s?function(){i(!0)}:null,children:j||"Set status... (double click here)"})})})},O=s(16),h=s(21),m=s(4),x=s.n(m),g=s(111),P=s.n(g),k=function(e){var t=e.contactTitle,s=e.contactValue;return Object(_.jsx)("li",{className:P.a.contactsItem,children:Object(_.jsx)("a",{rel:"noreferrer",href:s,target:"_blank",children:Object(_.jsx)(h.a,{name:t})})})},v=function(e){for(var t=e.contacts,s=[],a=0,n=Object.keys(t);a<n.length;a++){var o=n[a];null!==t[o]&&s.push(Object(_.jsx)(k,{contactTitle:o,contactValue:t[o]},o))}return s.length>0?Object(_.jsxs)("div",{className:P.a.contacts,children:[Object(_.jsx)("span",{className:P.a.contactsTitle,children:"Contacts:"}),Object(_.jsx)("ul",{className:P.a.contactsList,children:s.map((function(e){return e}))})]}):null},I=function(e){var t,s,a=e.profile,n=a.photos,o=a.fullName,r=a.lookingForAJob,c=a.lookingForAJobDescription,i=a.aboutMe,l=a.contacts,j=a.status,d=e.isOwner,m=e.uploadPhoto,g=e.updateStatus;return Object(_.jsxs)("section",{className:f.a.profile,children:[Object(_.jsxs)("div",{className:f.a.userInfo,children:[Object(_.jsxs)("div",{className:f.a.avatar,children:[Object(_.jsx)("img",{src:null!==(t=n.large)&&void 0!==t?t:b.a,alt:"avatar"}),d&&Object(_.jsxs)("label",{className:f.a.changeAvatar,children:[Object(_.jsx)("span",{children:"Update photo"}),Object(_.jsx)(h.a,{name:"upload"}),Object(_.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&m(e.target.files[0])}})]})]}),Object(_.jsxs)("div",{className:f.a.description,children:[d&&Object(_.jsxs)(O.b,{to:"/settings",className:f.a.settingsLink,children:[Object(_.jsx)(h.a,{name:"edit"}),"Edit profile"]}),Object(_.jsx)("h3",{className:f.a.name,children:o}),j||d?Object(_.jsx)(p,{status:j,updateStatus:g,isOwner:d}):null,Object(_.jsx)("div",{className:x()(f.a.lookingWork,(s={},Object(u.a)(s,f.a.lookingWork_true,r),Object(u.a)(s,f.a.lookingWork_false,!r),s)),children:r?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("b",{children:"Looking for a job..."}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("span",{children:"My professional skills:"}),Object(_.jsx)("p",{children:c})]}):Object(_.jsx)("span",{children:"Not looking for a job"})})]}),i&&Object(_.jsxs)("div",{className:f.a.about,children:[Object(_.jsx)("span",{children:"About me:"}),Object(_.jsx)("p",{children:i})]})]}),Object(_.jsx)(v,{contacts:l})]})},N=s(112),S=s.n(N),w=s(113),y=s.n(w),C=function(e){return Object(_.jsxs)("li",{className:y.a.post,id:e.id,children:[Object(_.jsx)("img",{className:y.a.avatar,src:e.imgUrl,alt:"avatar"}),Object(_.jsx)("p",{className:y.a.message,children:e.message})]})},L=s(45),U=s(25),W=s(64),A=s(32),D=s(39),M=function(e){var t=e.onSubmit,s=Object(L.a)(),a=s.register,n=s.handleSubmit,o=s.formState.errors,r=s.clearErrors,c=s.reset;return Object(_.jsxs)("form",{onSubmit:n((function(e){t(e),c()})),className:S.a.form,children:[Object(_.jsx)(U.c,{register:a,label:"newPostbody",errors:o,required:!0,maxLength:Object(D.a)(250),placeholder:"Enter post text here...",onBlur:function(){return r()}}),Object(_.jsx)("button",{className:x()(S.a.addPostBtn,"submit_btn"),children:"Add post"})]})},T=r.a.memo((function(e){var t=e.posts,s=e.addPost,a=e.profile.photos.large||b.a;return console.log(t),Object(_.jsxs)("section",{className:S.a.myPosts,children:[Object(_.jsx)(W.a,{text:"This is a test component. Current version of API not supporting this functional yet"}),Object(_.jsx)("h3",{className:S.a.header,children:"Add new post:"}),Object(_.jsx)(M,{onSubmit:function(e){s(a,e.newPostbody)}}),Object(_.jsx)("h4",{className:S.a.header,children:"Recent Posts:"}),Object(_.jsx)("ul",{children:t.map((function(e){return Object(_.jsx)(C,{message:e.postText,imgUrl:a},e.id)}))})]})})),F=Object(c.b)((function(e){return{posts:e.profilePage.postsData}}),{addPost:A.a})(T),B=["profile","isOwner"],E=function(e){var t=e.profile,s=e.isOwner,o=Object(n.a)(e,B);return Object(_.jsxs)("section",{className:l.a.profile,children:[Object(_.jsx)(I,Object(a.a)({isOwner:s,profile:t},o)),s&&Object(_.jsx)(F,{profile:t})]})},J=s(31),V=s(8),q=s(44),Q=s(22),R=s(33),K=["match","getUserProfile","getUserStatus","dispatch","setUserProfile","isProfileLoading","profile","ownerProfile"];t.default=Object(Q.c)(Object(c.b)((function(e){return{profile:e.profilePage.profile,ownerProfile:e.profilePage.ownerProfile,isProfileLoading:e.profilePage.profileIsLoading,userId:e.auth.userId}}),{getUserProfile:A.e,getUserStatus:A.f,updateStatus:A.i,uploadPhoto:A.j,setUserProfile:A.h}),V.g,q.a,R.a)((function(e){var t=e.match,s=e.getUserProfile,r=e.getUserStatus,c=e.dispatch,i=e.setUserProfile,l=e.isProfileLoading,u=e.profile,j=e.ownerProfile,f=Object(n.a)(e,K),b=t.params.userID;return Object(o.useEffect)((function(){return b&&(s(b),r(b)),function(){return c(i(null))}}),[b,s,r,c,i]),l?Object(_.jsx)(J.a,{}):Object(_.jsx)(E,Object(a.a)(Object(a.a)({},f),{},{profile:null!==u&&void 0!==u?u:j,isOwner:!t.params.userID}))}))}}]);
//# sourceMappingURL=3.e1c0ce94.chunk.js.map