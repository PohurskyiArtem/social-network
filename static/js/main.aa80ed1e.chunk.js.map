{"version":3,"sources":["api/api.js","components/Settings/Settings.module.scss","components/Sidebar/Navbar/Navbar.module.scss","components/common/Pagination/Pagination.module.scss","components/common/Icon/icons.svg","components/common/Icon/Icon.jsx","components/common/formsControls/FormsControls.module.scss","components/common/formsControls/FormsControls.js","components/Login/Login.module.scss","components/Header/Header.module.scss","components/Users/User/User.module.scss","components/common/Loader/Loader.jsx","redux/profile-reducer.js","hoc/CloseSidebar.js","redux/sidebar-reducer.js","components/common/MenuButton/MenuButton.module.scss","utils/validators/index.js","components/Sidebar/Friendsbar/Friend/Friend.module.scss","assets/images/defaultAvatar.png","hoc/WithAuthRedirect.js","components/Sidebar/Sidebar.module.scss","components/Users/Users.module.scss","components/common/Page-404/Page404.module.scss","components/common/Loader/Loader.module.scss","components/Sidebar/Friendsbar/Friendsbar.module.scss","redux/dialogs-reducer.js","components/common/Info/Info.jsx","components/News/News.module.scss","components/common/Info/Info.module.scss","utils/functions/updateObjectInArray.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/store.js","hoc/WithSuspense.js","components/common/MenuButton/MenuButton.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Sidebar/Navbar/Icon/icons.svg","components/Sidebar/Navbar/Icon/Icon.jsx","components/Sidebar/Navbar/Navbar.jsx","components/Sidebar/Friendsbar/Friend/Friend.jsx","components/Sidebar/Friendsbar/Friendsbar.jsx","components/Sidebar/Sidebar.jsx","components/News/News.jsx","components/common/Pagination/PageLink.jsx","components/common/Pagination/UserInput.jsx","components/common/Pagination/Pagination.jsx","components/Users/Icon/icons.svg","components/Users/Icon/Icon.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Settings/ProfileEditor.jsx","components/Settings/Settings.jsx","components/Login/Login.jsx","components/common/Page-404/Page404.jsx","App.js","index.js"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","endpoint","getUsers","currentPage","pageSize","get","this","then","response","data","profileAPI","getProfile","userID","getStatus","userId","updateStatus","status","put","uploadPhoto","photoFile","formData","FormData","append","saveProfile","profile","followAPI","follow","id","post","unFollow","delete","authAPI","auth","login","logout","securityAPI","getCaptcha","module","exports","Icon","name","xmlns","xmlnsXlink","xlinkHref","icons","Textarea","label","register","required","maxLength","errors","props","isError","hasOwnProperty","className","cn","style","error","textarea","entry_field","errorContainer","message","Input","isErrorStyle","input","type","CheckBox","checkbox","Loader","styles","container","lds_facebook","ADD_POST","SET_USER_PROFILE","TOGGLE_PROFILE_LOADING","SET_USER_STATUS","DELETE_POST","UPLOAD_PHOTO","SET_OWNER_PROFILE","SET_OWNER_STATUS","initialState","postsData","postText","ownerProfile","profileIsLoading","profileReducer","state","action","length","newPostbody","image","avatar","isProfileLoading","filter","photos","addPost","setUserProfile","setOwnerProfile","toggleProfileLoading","setUserStatus","setOwnerStatus","dispatch","actionCreator","a","getUserProfile","getOwnerProfile","getUserStatus","getOwnerStatus","resultCode","toast","success","messages","Error","photo","getState","CloseSidebar","Component","connect","toggleSidebar","useEffect","TOGGLE_SIDEBAR","isSidebarOpen","friendsList","isOpen","payload","toggleSidebarAC","sidebarReducer","maxLenghtCreator","value","WithAuthRedirect","isAuth","to","ADD_MESSAGE","dialogsData","messagesData","messageId","dialogsId","messageText","dialogsReducer","createMessage","addMessage","Info","text","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FOLLOWING","users","totalUsersCount","isFetching","followingInProgress","usersReducer","followed","pageNumber","count","isFollowingToggle","followSuccess","unFollowSuccess","toggleIsFollowing","followUnfollowflow","apiMethod","SET_USER_DATA","SET_CAPTCHA_URL","email","captchaUrl","setUserData","setCaptchaUrl","authMe","getCaptchaUrl","url","authReducer","SET_INITIALIZING_APP","initialized","appReducer","reducers","combineReducers","app","profilePage","dialogsPage","sidebar","usersPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","WithSuspense","fallback","MenuButton","onClickFunction","onClick","menu","menuBtn","menuBurger","menuExit","Header","userName","isVisible","setVisible","header","hide","title","shortTitle","loginBlock","loginPanel","userInfo","margin","loginLink","useState","scrollY","scrollPos","setScrollPos","onScroll","addEventListener","removeEventListener","Navbar","nav","link","activeClassName","current","Friend","friend","href","friendLink","src","defaultAvatar","alt","Friendsbar","friendsbar","friends_list","active","contentWrapper","news","PageLink","onPageChanged","currentBoolean","pagination_btn","selectedPage","disabled","UserInput","lastPageNumber","goToPage","inputValue","changeInputValue","userInput","onChange","e","target","DotsBetweenPags","dotsWithinPags","key","Pagination","pagesNumbers","paginationContainer","pagination","step_btn","p","ifPageFirst","ifPageLast","toString","User","userState","user","userLeft","small","isFollowing","some","followBtn","unfollowed","userRight","userStatus","Users","i","pagesCount","Math","ceil","pages","push","userList","showMore","scrollTo","createSelector","u","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","bind","setCurrentPage","requestUsers","totalCount","toggleIsFetching","ProfileEditor","useForm","defaultValues","handleSubmit","formState","clearErrors","submitError","setSubmitError","onSubmit","catch","includes","contactFieldName","split","slice","toLowerCase","catchError","form","mainSettings","fieldContainer","placeholder","onBlur","contactsContainer","contacts","Object","keys","invalidUrl","activeError","submit","isProfileLoaded","setProfileLoaded","settings","LoginForm","onKeyPress","event","remember_label","formSummaryError","captchaContainer","Page404","wrapper","b","ProfileContainer","lazy","DialogsContainer","AppContainer","withRouter","initializeApp","Promise","all","catchAllUnhandledErrors","promiseRejectionEvent","reason","console","position","exact","path","render","SocialApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.aa80ed1e.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"41bf619d-5f1e-4bc5-8bd8-728246f3affc\" \r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    endpoint: \"users\", \r\n    getUsers ( currentPage = 1, pageSize = 10 ) {\r\n        return instance.get(\r\n            `${this.endpoint}?page=${currentPage}&count=${pageSize}`\r\n          ).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    endpoint: 'profile/',\r\n    getProfile ( userID ) {\r\n        return instance.get(\r\n            this.endpoint + userID\r\n          ).then(response => response.data)\r\n    },\r\n    getStatus ( userId ) {\r\n        return instance.get(\r\n            this.endpoint + \"status/\" + userId\r\n        ).then(response => response.data)\r\n    },\r\n    updateStatus ( status ) {\r\n        return instance.put(this.endpoint + \"status/\", { status })\r\n    },\r\n    uploadPhoto (photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(this.endpoint + \"photo/\", formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        } )\r\n    },\r\n    saveProfile (profile) {\r\n        return instance.put(this.endpoint, {...profile})\r\n    }\r\n}\r\n\r\nexport const followAPI =  {\r\n    endpoint: 'follow/',\r\n\r\n    follow (id, data = {}) {\r\n        return instance.post(\r\n            this.endpoint + id, data\r\n        ).then(response => response.data)\r\n    },\r\n\r\n    unFollow (id) {\r\n        return instance.delete(\r\n            this.endpoint + id\r\n        ).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    endpoint: 'auth/',\r\n\r\n    auth () {\r\n        return instance.get(\r\n            this.endpoint + 'me'\r\n          ).then(response => {\r\n            return response.data\r\n          });\r\n    },\r\n\r\n    login (formData) {\r\n        return instance.post(\r\n            this.endpoint + \"login\", {...formData}\r\n        ).then(response => response.data);\r\n    },\r\n\r\n    logout () {\r\n        return instance.delete(\r\n            this.endpoint + \"login\"\r\n        ).then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    endpoint: 'security/',\r\n\r\n    getCaptcha () {\r\n        return instance.get(this.endpoint + \"get-captcha-url\");\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Settings_title__1VWwB\",\"form\":\"Settings_form__gt1PO\",\"mainSettings\":\"Settings_mainSettings__3n7m6\",\"contactsContainer\":\"Settings_contactsContainer__1Jezh\",\"fieldContainer\":\"Settings_fieldContainer__1Qi3-\",\"checkbox\":\"Settings_checkbox__2BFL2\",\"errorContainer\":\"Settings_errorContainer__1cdIp\",\"activeError\":\"Settings_activeError__1gpL3\",\"submit\":\"Settings_submit__2rTqQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__EvjId\",\"item\":\"Navbar_item__1nyvK\",\"link\":\"Navbar_link__1nh7S\",\"current\":\"Navbar_current__L7CIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationContainer\":\"Pagination_paginationContainer__t_Syo\",\"pagination\":\"Pagination_pagination__1C_Ur\",\"dotsWithinPags\":\"Pagination_dotsWithinPags__3OVVV\",\"pagination_btn\":\"Pagination_pagination_btn__JuFj6\",\"step_btn\":\"Pagination_step_btn__3McGi\",\"selectedPage\":\"Pagination_selectedPage__24Luf\",\"userInput\":\"Pagination_userInput__3i6xh\"};","export default __webpack_public_path__ + \"static/media/icons.b28d23b7.svg\";","import React from 'react'\r\n\r\nimport icons from './icons.svg'\r\n\r\nconst Icon = ({ name }) => {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t>\r\n\t\t\t<use xlinkHref={`${icons}#${name}`} />\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Icon;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"FormsControls_textarea__3X6h4\",\"input\":\"FormsControls_input__3umBr\",\"error\":\"FormsControls_error__3aR7y\",\"errorContainer\":\"FormsControls_errorContainer__BGS7D\",\"entry_field\":\"FormsControls_entry_field__3cs_3\"};","import style from \"./FormsControls.module.scss\"\r\nimport cn from \"classnames\";\r\nimport Icon from \"../Icon/Icon\";\r\n\r\nexport const Textarea = ({label, register, required, maxLength, errors, ...props}) => {\r\n    let isError = errors.hasOwnProperty(label);\r\n    return (\r\n        <div className={cn({[style.error]: isError})}>\r\n            <textarea className={cn(style.textarea, style.entry_field)} {...register(label, {required, maxLength})} {...props}/>\r\n            {isError\r\n                ? (\r\n                    <div className={style.errorContainer}>\r\n                        <Icon name=\"form_error\"/>\r\n                        <span>{errors[label].message}</span>\r\n                    </div>\r\n                )\r\n                : null   \r\n            }             \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({label, register, required, maxLength, errors, isErrorStyle, ...props}) => {\r\n    let isError = errors.hasOwnProperty(label);\r\n    return (\r\n        <div className={cn({[style.error]: isError || isErrorStyle})}>\r\n            <input {...props} className={cn(style.input, style.entry_field)} {...register(label, {required, maxLength})}/>\r\n            {isError && errors[label].type !== \"required\"\r\n                ? (\r\n                    <div className={style.errorContainer}>\r\n                        <Icon name=\"form_error\"/>\r\n                        <span>{errors[label].message}</span>\r\n                    </div>\r\n                )\r\n                : null   \r\n            }       \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const CheckBox = ({ register, label, required, errors }) => {\r\n    let isError;\r\n    if(required) {\r\n        isError = errors.hasOwnProperty(label);\r\n    }\r\n    return (\r\n        <div className={cn({[style.error]: isError})}>\r\n            <input type={\"checkbox\"} className={cn(style.checkbox)} {...register(label, {required})}/>\r\n            { isError\r\n                ? (\r\n                    <div className={style.errorContainer}>\r\n                        <span>Field is required</span>\r\n                    </div>\r\n                )\r\n                : null   \r\n            }       \r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__1wY_2\",\"header\":\"Login_header__k3LnE\",\"container\":\"Login_container__3O5MJ\",\"form\":\"Login_form__1gzeu\",\"fieldContainer\":\"Login_fieldContainer__wFQqf\",\"remember_label\":\"Login_remember_label__29TjB\",\"formSummaryError\":\"Login_formSummaryError__1_lNx\",\"submit\":\"Login_submit__3MwP6\",\"captchaContainer\":\"Login_captchaContainer__3HEVg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ygEQ\",\"hide\":\"Header_hide__1Ou0e\",\"loginLink\":\"Header_loginLink__1P63o\",\"title\":\"Header_title__29jBk\",\"shortTitle\":\"Header_shortTitle__2-WzH\",\"loginBlock\":\"Header_loginBlock__YF7Lk\",\"loginPanel\":\"Header_loginPanel__3AOHA\",\"userInfo\":\"Header_userInfo__xiwL7\",\"userName\":\"Header_userName__2fPDc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3gscj\",\"userLeft\":\"User_userLeft__Fbxi-\",\"userRight\":\"User_userRight__2O6On\",\"userName\":\"User_userName__YuSkB\",\"userStatus\":\"User_userStatus__3OHGU\",\"followBtn\":\"User_followBtn__3CPzt\",\"unfollowed\":\"User_unfollowed__1myDM\",\"followed\":\"User_followed__1UMKq\"};","import styles from \"./Loader.module.scss\";\r\n\r\nconst Loader = props => {\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.lds_facebook}>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import { toast } from \"react-toastify\";\r\nimport { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"PROFILE_PAGE__ADD_POST\",\r\n  SET_USER_PROFILE = \"PROFILE_PAGE__SET_USER_PROFILE\",\r\n  TOGGLE_PROFILE_LOADING = \"PROFILE_PAGE__TOGGLE_PROFILE_LOADING\",\r\n  SET_USER_STATUS = \"PROFILE_PAGE__SET_USER_STATUS\",\r\n  DELETE_POST = \"PROFILE_PAGE__DELETE_POST\",\r\n  UPLOAD_PHOTO = \"PROFILE_PAGE__UPLOAD_PHOTO\",\r\n  SET_OWNER_PROFILE = \"SET_OWNER_PROFILE\",\r\n  SET_OWNER_STATUS = \"SET_OWNER_STATUS\";\r\n\r\nlet initialState = {\r\n  postsData: [\r\n    //test values\r\n    {\r\n      id: 1,\r\n      postText: \"Hello? How are you?\",\r\n    },\r\n    {\r\n      id: 2,\r\n      postText: \"London is the capital of Great Britain, did you know?\",\r\n    },\r\n    {\r\n      id: 3,\r\n      postText: \"Kak menya vse zaebalo, hochu obratno domoy v Japan\",\r\n    },\r\n  ],\r\n  profile: null,\r\n  ownerProfile: null,\r\n  profileIsLoading: false,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        postsData: [\r\n          {\r\n            id: state.postsData.length  + 1,\r\n            postText: action.newPostbody,\r\n            image: action.avatar,\r\n          },\r\n          ...state.postsData\r\n        ],\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n\r\n    case SET_OWNER_PROFILE:\r\n      return {\r\n        ...state,\r\n        ownerProfile: {...state.ownerProfile, ...action.profile},\r\n      };\r\n\r\n    case TOGGLE_PROFILE_LOADING:\r\n      return {\r\n        ...state,\r\n        profileIsLoading: action.isProfileLoading,\r\n      };\r\n\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, status: action.status}\r\n      };\r\n\r\n    case SET_OWNER_STATUS:\r\n    return {\r\n      ...state,\r\n      ownerProfile: {...state.ownerProfile, status: action.status}\r\n    };\r\n\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        postsData: state.postsData.filter((post) => post.id !== action.id),\r\n      };\r\n\r\n    case UPLOAD_PHOTO:\r\n      return {\r\n        ...state,\r\n        ownerProfile: { ...state.ownerProfile, photos: {...action.photos} },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n\r\n// Action creators\r\n\r\nexport const addPost = (avatar, newPostbody) => ({\r\n  type: ADD_POST,\r\n  avatar,\r\n  newPostbody,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const setOwnerProfile = (profile) => ({\r\n  type: SET_OWNER_PROFILE,\r\n  profile,\r\n});\r\nexport const toggleProfileLoading = (isProfileLoading) => ({\r\n  type: TOGGLE_PROFILE_LOADING,\r\n  isProfileLoading,\r\n});\r\nexport const setUserStatus = (status) => ({\r\n  type: SET_USER_STATUS,\r\n  status,\r\n});\r\nexport const setOwnerStatus = (status) => ({\r\n  type: SET_OWNER_STATUS,\r\n  status,\r\n});\r\nexport const deletePost = (id) => ({\r\n  type: DELETE_POST,\r\n  id,\r\n});\r\nexport const uploadPhotoSuccess = (photos) => ({\r\n  type: UPLOAD_PHOTO,\r\n  photos,\r\n});\r\n\r\nexport const getProfile = async (dispatch, id, actionCreator) => {\r\n  dispatch(toggleProfileLoading(true));\r\n\r\n  let response = await profileAPI.getProfile(id);\r\n  dispatch(actionCreator(response));\r\n\r\n  dispatch(toggleProfileLoading(false));\r\n};\r\n\r\nconst getStatus = async (dispatch, id, actionCreator) => {\r\n  let response = await profileAPI.getStatus(id);\r\n  dispatch(actionCreator(response));\r\n};\r\n\r\n// Thunks creators\r\n\r\nexport const getUserProfile = (id) => (dispatch) => getProfile(dispatch, id, setUserProfile);\r\n\r\nexport const getOwnerProfile = (id) => (dispatch) => getProfile(dispatch, id, setOwnerProfile);\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => getStatus(dispatch, userId, setUserStatus)\r\n\r\nexport const getOwnerStatus = (userId) => async (dispatch) => getStatus(dispatch, userId, setOwnerStatus)\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setOwnerStatus(status));\r\n    toast.success(\"Status updated\");\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n    toast.error(message);\r\n    throw new Error();\r\n  }\r\n};\r\n\r\nexport const uploadPhoto = (photo) => async (dispatch) => {\r\n  let response = await profileAPI.uploadPhoto(photo);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(uploadPhotoSuccess(response.data.data.photos));\r\n    toast.success(\"Photo updated\");\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n    toast.error(message);\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  let { data } = await profileAPI.saveProfile(profile);\r\n  if (data.resultCode === 0) {\r\n    dispatch(getOwnerProfile(userId));\r\n    toast.success(\"Profile updated\");\r\n  } else {\r\n    let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n    throw message;\r\n  }\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { toggleSidebar } from \"../redux/sidebar-reducer\";\r\n\r\nexport const CloseSidebar = Component => {\r\n    \r\n    const CloseSidebarComponent = ({toggleSidebar, ...props}) => {\r\n        useEffect(() => {\r\n            toggleSidebar(false);\r\n        }, [toggleSidebar])\r\n\r\n        return <Component {...props} />\r\n    }\r\n\r\n    let ConnectedCloseSidebarComponent = connect(() => ({}), {toggleSidebar}) (CloseSidebarComponent)\r\n\r\n    return ConnectedCloseSidebarComponent;\r\n}","const TOGGLE_SIDEBAR = \"TOGGLE_SIDEBAR\";\r\n\r\nlet initialState = {\r\n    isSidebarOpen: false,\r\n    friendsList: [\r\n        {\r\n          id: 1,\r\n          name: \"Dimych\"\r\n        },\r\n        {\r\n          id: 2,\r\n          name: \"Artem\"\r\n        },\r\n        {\r\n          id: 3,\r\n          name: \"Nastya\"\r\n        },\r\n        {\r\n          id: 4,\r\n          name: \"Olga\"\r\n        },\r\n        {\r\n          id: 5,\r\n          name: \"Lesha Domachuk\"\r\n        }\r\n      ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_SIDEBAR:\r\n    return {\r\n      ...state,\r\n      isSidebarOpen: typeof(action.payload) === 'boolean' ? action.payload : !state.isSidebarOpen\r\n    }\r\n\r\n    default:\r\n       return state;\r\n  }\r\n}\r\n\r\nexport const toggleSidebarAC = (isOpen) => ({\r\n  type: TOGGLE_SIDEBAR,\r\n  payload: isOpen\r\n});\r\n\r\nexport const toggleSidebar = (isOpen) => dispatch => {\r\n  dispatch(toggleSidebarAC(isOpen));\r\n}\r\n\r\nexport default sidebarReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MenuButton_menu__3hN0Y\",\"menuBtn\":\"MenuButton_menuBtn__vGGyi\",\"isOpen\":\"MenuButton_isOpen__3-6vT\",\"menuBurger\":\"MenuButton_menuBurger__1gC2t\",\"menuExit\":\"MenuButton_menuExit__2KLi2\"};","export const maxLenghtCreator = (value) => ({\r\n    value,\r\n    message: `Maximum length ${value} characters`\r\n})\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__39SU3\",\"friendLink\":\"Friend_friendLink__3LN-Y\",\"avatar\":\"Friend_avatar__3DubV\",\"name\":\"Friend_name__3ePRE\"};","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from \"react-router\"\r\n\r\nexport const WithAuthRedirect = Component => {\r\n    \r\n    const RedirectComponent = ({isAuth, ...props}) => {\r\n            if(!isAuth) return <Redirect to={'/login'} />\r\n            return <Component {...props} />\r\n    }\r\n\r\n    let ConnectedRedirectAuthComponent = connect(state => ({isAuth: state.auth.isAuth})) (RedirectComponent)\r\n\r\n    return ConnectedRedirectAuthComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1QnXR\",\"active\":\"Sidebar_active__1Avnw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3yTIs\",\"showMore\":\"Users_showMore__3HPgs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Page404_wrapper__1QCW_\",\"container\":\"Page404_container__1Vij9\",\"b\":\"Page404_b__1a9Hw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__3Pk9Q\",\"lds_facebook\":\"Loader_lds_facebook__20Jgv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsbar\":\"Friendsbar_friendsbar__3CV9T\",\"friends_list\":\"Friendsbar_friends_list__2L2oa\"};","const ADD_MESSAGE = \"ADD-MESSAGE-TO-DIALOG_TEST\";\r\n\r\nlet initialState = {\r\n  dialogsData: [\r\n    {\r\n      id: 1,\r\n      userId: 2, \r\n      name: \"Dimych\",\r\n    },\r\n    {\r\n      id: 2,\r\n      userId: 99992, \r\n      name: \"Nastya\",\r\n    },\r\n    {\r\n      id: 3,\r\n      userId: 99993, \r\n      name: \"Artem\",\r\n    },\r\n    {\r\n      id: 4,\r\n      userId: 99994, \r\n      name: \"Lesha Domachuk\",\r\n    },\r\n    {\r\n      id: 5,\r\n      userId: 99995, \r\n      name: \"Olga\",\r\n    },\r\n  ],\r\n  messagesData: [\r\n    {\r\n      messageId: 1,\r\n      dialogsId: 1,\r\n      userId: 18640,\r\n      messageText: \"Hello Dimych!\",\r\n    },\r\n    {\r\n      messageId: 2,\r\n      dialogsId: 1,\r\n      userId: 2,\r\n      messageText: \"Hi Artem!\",\r\n    },\r\n    {\r\n      messageId: 3,\r\n      dialogsId: 1,\r\n      userId: 2,\r\n      messageText: \"How are you?\",\r\n    },\r\n    {\r\n      messageId: 4,\r\n      dialogsId: 4,\r\n      userId: 99994,\r\n      messageText: \"!   ,    .     ,       =)\",\r\n    },\r\n    {\r\n      messageId: 5,\r\n      dialogsId: 5,\r\n      userId: 99995,\r\n      messageText: \"JavaScript is my favorite programming language\",\r\n    },\r\n    {\r\n      messageId: 6,\r\n      dialogsId: 5,\r\n      userId: 18640,\r\n      messageText: \"My to =))\",\r\n    }\r\n  ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messagesData: [...state.messagesData, {\r\n          messageId: state.messagesData.length + 1,\r\n          dialogsId: action.dialogsId,\r\n          userId: action.userId,\r\n          messageText: action.messageText\r\n        }]\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dialogsReducer;\r\n\r\nconst addMessage = (dialogsId, userId, messageText) => ({ type: ADD_MESSAGE, dialogsId, userId, messageText });\r\n\r\nexport const createMessage = (dialogsId, messageText) => (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  dispatch(addMessage(dialogsId, userId, messageText))\r\n}","import Icon from \"../Icon/Icon\";\r\nimport styles from \"./Info.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nconst Info = ({text}) => {\r\n\r\n    return (\r\n        <div className={cn(styles.container, \"info\")}>\r\n            <Icon name={\"error_info\"}/>\r\n            <span>{text}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__3bMP8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Info_container__2rxfE\"};","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map((item) => {\r\n    if (item[objPropName] === itemId) {\r\n      return { ...item, ...newObjProps };\r\n    }\r\n    return item;\r\n  });\r\n}\r\n\r\n","import { followAPI, usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/functions/updateObjectInArray\";\r\n\r\n// Action type constants\r\n\r\nconst FOLLOW = \"FOLLOW\",\r\n  UNFOLLOW = \"UNFOLLOW\",\r\n  SET_USERS = \"SET_USERS\",\r\n  SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\",\r\n  SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\",\r\n  TOGGLE_IS_FOLLOWING = \"TOGGLE_IS_FOLLOWING\";\r\n\r\n// Initial state for Users component \r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\n// Redusers\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n      };\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.pageNumber,\r\n      };\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count,\r\n      };\r\n\r\n    case TOGGLE_IS_FOLLOWING:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFollowingToggle\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default usersReducer;\r\n\r\n// Actions creators\r\n\r\nexport const followSuccess = (userId) => ({\r\n  type: FOLLOW,\r\n  userId,\r\n});\r\n\r\nexport const unFollowSuccess = (userId) => ({\r\n  type: UNFOLLOW,\r\n  userId,\r\n});\r\nexport const setUsers = (users) => ({\r\n  type: SET_USERS,\r\n  users,\r\n});\r\nexport const setCurrentPage = (pageNumber) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  pageNumber,\r\n});\r\nexport const setTotalUsersCount = (count) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count,\r\n});\r\nexport const toggleIsFollowing = (isFollowingToggle, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING,\r\n  isFollowingToggle,\r\n  userId,\r\n});\r\n\r\n// Thunks creators\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async dispatch => {\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n  };\r\n\r\n\r\nconst followUnfollowflow = async (dispatch, id, apiMethod, actionCreator) => {\r\n  dispatch(toggleIsFollowing(true, id));\r\n\r\n  let response = await apiMethod(id);\r\n  if (response.resultCode === 0) {\r\n    dispatch(actionCreator(id));\r\n  }\r\n\r\n  dispatch(toggleIsFollowing(false, id));\r\n}\r\n\r\nexport const unFollow = id => dispatch => {\r\n    let apiMethod = followAPI.unFollow.bind(followAPI);\r\n    let actionCreator = unFollowSuccess;\r\n    followUnfollowflow(dispatch, id, apiMethod, actionCreator);    \r\n};\r\n\r\nexport const follow = id => dispatch => {\r\n    let apiMethod = followAPI.follow.bind(followAPI);\r\n    let actionCreator = followSuccess;\r\n    followUnfollowflow(dispatch, id, apiMethod, actionCreator);    \r\n};\r\n","import { authAPI, securityAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\",\r\n      SET_CAPTCHA_URL = \"samurai-network/auth/SET_CAPTCHA_URL\";\r\n\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case SET_CAPTCHA_URL:\r\n        \r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//action creators\r\n\r\nexport const setUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const setCaptchaUrl = (captchaUrl) => ({\r\n  type: SET_CAPTCHA_URL,\r\n  payload: {captchaUrl}\r\n});\r\n\r\n\r\n//thunk creators\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n  let {resultCode, data} =  await authAPI.auth();\r\n  if(resultCode === 0) {\r\n    let { login, id, email } = data;\r\n    dispatch(setUserData( id, email, login, true ));\r\n    return id;\r\n  }   \r\n};\r\n\r\nexport const login = (formData) => async dispatch => {\r\n  let {resultCode, messages} = await authAPI.login({...formData});\r\n  if(resultCode === 0) {\r\n    dispatch(authMe())\r\n    dispatch(setCaptchaUrl(null))\r\n  } else {\r\n    if(resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n    let message = messages.length > 0 && (resultCode === 10 ? \"Confirm that you are not a bot\" : messages[0]);\r\n    throw message;\r\n  }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n  let response = await authAPI.logout();\r\n  if(response.resultCode === 0)  {\r\n    dispatch(setUserData( null, null, null, false ));\r\n    dispatch(authMe())\r\n  };\r\n};\r\n\r\nexport const getCaptchaUrl = () => async dispatch => {\r\n  const response = await securityAPI.getCaptcha();\r\n  dispatch(setCaptchaUrl(response.data.url));\r\n};\r\n\r\n\r\n\r\n\r\nexport default authReducer;","import { authMe } from \"./auth-reducer\";\r\nimport { getOwnerProfile, getOwnerStatus } from \"./profile-reducer\";\r\n\r\nconst SET_INITIALIZING_APP = \"SET_INITIALIZED_APP\";\r\n\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZING_APP:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//action creators\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: SET_INITIALIZING_APP\r\n});\r\n\r\n//thunk creators\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    Promise.all([\r\n      dispatch(authMe())\r\n    ])\r\n      .then(id => {\r\n        if (id[0]) {\r\n          dispatch(getOwnerProfile(id[0]));\r\n          dispatch(getOwnerStatus(id[0]));\r\n        }\r\n        dispatch(initializedSuccess());\r\n      });    \r\n  };\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n  app: appReducer,\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(reducers, compose(applyMiddleware(thunkMiddleware), composeEnhancers()));\r\nwindow.store = store;\r\n\r\nexport default store;\r\n\r\n","import { Suspense } from \"react\"\r\nimport Loader from \"../components/common/Loader/Loader\"\r\n\r\nexport const WithSuspense = Component => {\r\n    return props => (\r\n        <Suspense fallback={<Loader/>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    )\r\n}","import style from \"./MenuButton.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nconst MenuButton = ({onClickFunction, isOpen}) => {\r\n    return (\r\n        <div onClick={onClickFunction} className={style.menu}>\r\n            <span className={cn({[style.menuBtn]: true, [style.isOpen]: isOpen})}>\r\n                <span className={style.menuBurger}></span>\r\n                <span className={style.menuExit}></span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MenuButton;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Header.module.scss';\r\nimport Icon from \"../common/Icon/Icon\";\r\nimport MenuButton from '../common/MenuButton/MenuButton';\r\nimport cn from \"classnames\";\r\n\r\nconst Header = ({isAuth, userName, logout, isOpen, toggleSidebar, isVisible, setVisible}) => {\r\n    return (\r\n        <header className={cn({[styles.header]: true, [styles.hide]: isVisible})}>\r\n            <MenuButton isOpen={isOpen} onClickFunction={toggleSidebar} />\r\n            <h1 className={styles.title}><span>S</span>ocial N<span></span>etwor<span>k</span></h1>\r\n            <h1 className={styles.shortTitle}><span>S</span>N</h1>\r\n\r\n            <div className={styles.loginBlock}>\r\n                {isAuth ? \r\n                (\r\n                    <div className={styles.loginPanel}>\r\n                        <NavLink to={'/profile'} className={styles.userInfo}>\r\n                            <span className={styles.userName}>{userName}</span>\r\n                        </NavLink>\r\n                        <span style={{margin: \"0 5px\"}}>|</span>\r\n                        <button onClick={logout}><Icon name=\"logout\"/><span>Logout</span></button>\r\n                    </div>\r\n                ) : <NavLink to={'/login'} className={styles.loginLink}><Icon name=\"login\" /><span>Login</span></NavLink>}          \r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { connect } from 'react-redux';\r\nimport Header from \"./Header\";\r\nimport { logout } from \"../../redux/auth-reducer\";\r\nimport { toggleSidebar } from  \"../../redux/sidebar-reducer\"; \r\nimport { useEffect, useState } from 'react';\r\n\r\nconst HeaderContainer = props => {\r\n    const [isVisible, setVisible] = useState(false);\r\n    const [scrollPos, setScrollPos] = useState(window.scrollY);\r\n\r\n    useEffect(() => {\r\n        const onScroll = () => {\r\n            if(window.scrollY > scrollPos) {\r\n                setVisible(true);\r\n                setScrollPos(window.scrollY);\r\n            } else if(window.scrollY < scrollPos) {\r\n                setVisible(false);\r\n                setScrollPos(window.scrollY);\r\n            }\r\n        }\r\n\r\n        window.addEventListener('scroll', onScroll)\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', onScroll);\r\n        }\r\n    }, [scrollPos])\r\n\r\n    return (\r\n        <Header {...props} isVisible={isVisible} setVisible={setVisible}/>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        userName: state.auth.login,\r\n        isOpen: state.sidebar.isSidebarOpen\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout, toggleSidebar })(HeaderContainer)","export default __webpack_public_path__ + \"static/media/icons.78c7bf79.svg\";","import React from 'react'\r\n\r\nimport icons from './icons.svg'\r\n\r\nconst Icon = ({ name }) => {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t>\r\n\t\t\t<use xlinkHref={`${icons}#${name}`} />\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Icon;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Navbar.module.scss';\r\n\r\nimport Icon from './Icon/Icon';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={styles.nav}>\r\n            <ul className=\"list\">\r\n                <li className={styles.item}>\r\n                    <Icon name=\"profile\" />\r\n                    <NavLink to=\"/profile\" className={styles.link} activeClassName={styles.current}>Profile</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <Icon name=\"messages\" />\r\n                    <NavLink to=\"/dialogs\" className={styles.link} activeClassName={styles.current}>Messages</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <Icon name=\"news\" />\r\n                    <NavLink to=\"/news\" className={styles.link} activeClassName={styles.current}>News</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <Icon name=\"users\" />\r\n                    <NavLink to=\"/users\" className={styles.link} activeClassName={styles.current}>Users</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <Icon name=\"settings\" />\r\n                    <NavLink to=\"settings\" className={styles.link} activeClassName={styles.current}>Settings</NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport styles from './Friend.module.scss';\r\nimport defaultAvatar from \"../../../../assets/images/defaultAvatar.png\"\r\n\r\nconst Friend = props => {\r\n    return (\r\n        <li className={styles.friend}>\r\n            <a href=\"/profile\" className={styles.friendLink}>\r\n                <img src={defaultAvatar} alt=\"avatar\" className={styles.avatar} />\r\n                <span className={styles.name}>{props.name}</span>\r\n            </a>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport styles from \"./Friendsbar.module.scss\";\r\nimport Friend from \"./Friend/Friend\";\r\n\r\nconst Friendsbar = props => {\r\n    return (\r\n       <div className={styles.friendsbar}>\r\n           <h3>Friends</h3>\r\n           <ul className={styles.friends_list}>\r\n               {\r\n                   props.friendsList.map(friend => <Friend id={friend.id} name={friend.name} key={friend.id}/>)\r\n               }\r\n           </ul>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default Friendsbar;","import React from 'react';\r\nimport styles from './Sidebar.module.scss';\r\nimport Navbar from \"./Navbar/Navbar\";\r\nimport Friendsbar from \"./Friendsbar/Friendsbar\";\r\nimport { connect } from 'react-redux';\r\nimport cn from \"classnames\";\r\n\r\nconst Sidebar = ({friendsList, isOpen}) => {\r\n    return (\r\n       <aside className={cn({[styles.sidebar]: true, [styles.active]: isOpen})}>\r\n           <div className={styles.contentWrapper}>\r\n            <Navbar />\r\n            <Friendsbar friendsList={friendsList}/>\r\n           </div>\r\n       </aside>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    friendsList: state.sidebar.friendsList,\r\n    isOpen: state.sidebar.isSidebarOpen\r\n})\r\n\r\nexport default connect(mapStateToProps, {})(Sidebar);","import styles from \"./News.module.scss\";\r\nimport Info from \"../common/Info/Info\";\r\nimport {CloseSidebar} from  \"../../hoc/CloseSidebar\";\r\n\r\nconst News = props => {\r\n    return (\r\n        <>\r\n        <h2 className={styles.news}>News</h2>\r\n        <Info text={\"This is a test component. Current version of API not supporting this functional yet\"}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CloseSidebar(News);","import styles from \"./Pagination.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nconst PageLink = props => {\r\n    let {pageNumber, onPageChanged, currentPage} = props;\r\n    let currentBoolean = currentPage === pageNumber ? true : false;\r\n\r\n    return (\r\n        <button \r\n            className={cn({\r\n                [styles.pagination_btn]: true,\r\n                [styles.selectedPage]: currentBoolean\r\n            })} \r\n            onClick={() => onPageChanged(pageNumber)}\r\n            disabled={currentBoolean}\r\n        >\r\n            {pageNumber}\r\n        </button>\r\n               \r\n    )\r\n}\r\n\r\nexport default PageLink;","import { useState } from \"react\"\r\nimport styles from \"./Pagination.module.scss\";\r\n\r\nconst UserInput = ({lastPageNumber, goToPage}) => {\r\n    const [inputValue, changeInputValue] = useState(\"\");\r\n    return (\r\n        <div className={styles.userInput}>\r\n            <input type=\"text\" value={inputValue} className={\"entry_field\"} onChange={e => changeInputValue(e.target.value)}/>\r\n            <button\r\n                className={\"submit_btn\"}\r\n                disabled={inputValue === \"\" || inputValue > lastPageNumber || inputValue <= 0 || !(+inputValue) }\r\n                onClick={() => {\r\n                    changeInputValue(\"\");\r\n                    goToPage(+inputValue)\r\n                }}\r\n            >Go to</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserInput;","import styles from \"./Pagination.module.scss\";\r\nimport PageLink from \"./PageLink\";\r\nimport UserInput from \"./UserInput\";\r\nimport cn from \"classnames\";\r\nimport { Fragment } from \"react\";\r\n\r\n\r\nconst Pagination = ({ currentPage, pagesNumbers, onPageChanged }) => {\r\n    return (\r\n        <div className={styles.paginationContainer}>\r\n            <div className={styles.pagination}>\r\n                {/* previous page button */}\r\n                <button\r\n                    className={cn(styles.pagination_btn, styles.step_btn)} \r\n                    onClick={() => onPageChanged( currentPage - 1 )} \r\n                    disabled={ currentPage === 1 } \r\n                >\r\n                Prev\r\n                </button>\r\n\r\n                {\r\n                    pagesNumbers.map( p => {\r\n                        let ifPageFirst = p === 1;\r\n                        let ifPageLast = p === pagesNumbers[pagesNumbers.length - 1];\r\n\r\n                        if( ifPageFirst ) { //check page first or last\r\n                            return (\r\n\r\n                            <Fragment key={p.toString()}>\r\n                                <PageLink \r\n                                pageNumber={p} \r\n                                onPageChanged={onPageChanged} \r\n                                currentPage={currentPage}\r\n                                />\r\n                                {currentPage >= (p + 4) ? <DotsBetweenPags/> : null}\r\n                            </Fragment>\r\n\r\n                            )\r\n                        } else if (ifPageLast) {\r\n                            return (\r\n\r\n                                <Fragment key={p.toString()}>\r\n                                    {currentPage <= (p - 4) ? <DotsBetweenPags/> : null}\r\n                                    <PageLink \r\n                                    pageNumber={p} \r\n                                    onPageChanged={onPageChanged} \r\n                                    currentPage={currentPage}\r\n                                    />\r\n                                </Fragment>\r\n        \r\n                            )\r\n\r\n                        } else if( ( ( p >= (currentPage - 2) ) && ( p <= (currentPage + 2) ) ) ) { //page in range \"currentPage +- 2\"\r\n                            return (\r\n                                <Fragment key={p.toString()}>\r\n                                    <PageLink \r\n                                        pageNumber={p} \r\n                                        onPageChanged={onPageChanged} \r\n                                        currentPage={currentPage}\r\n                                    />\r\n                                </Fragment>\r\n                            )\r\n                        }\r\n\r\n                        return null;\r\n                    })\r\n                }\r\n\r\n                {/* next page button */}\r\n                <button\r\n                    className={cn(styles.pagination_btn, styles.step_btn)}  \r\n                    onClick={() => onPageChanged( currentPage + 1 )}\r\n                    disabled={ currentPage === pagesNumbers[pagesNumbers.length - 1] } \r\n                >\r\n                Next\r\n                </button>\r\n            </div>\r\n            <UserInput goToPage={onPageChanged} lastPageNumber={pagesNumbers[pagesNumbers.length - 1]}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst DotsBetweenPags = (props) => <span className={styles.dotsWithinPags} key={props.key}>...</span>\r\n\r\nexport default Pagination;","export default __webpack_public_path__ + \"static/media/icons.af7164fe.svg\";","import React from 'react'\r\n\r\nimport icons from './icons.svg'\r\n\r\nconst Icon = props => {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t>\r\n\t\t\t<use xlinkHref={`${icons}#${props.name}`} />\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Icon;","import styles from \"./User.module.scss\";\r\nimport Icon from \"./../Icon/Icon\";\r\nimport defaultAvatar from \"../../../assets/images/defaultAvatar.png\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport cn from \"classnames\";\r\n\r\nconst User = props => {\r\n    let {name, id, followed, status, photos} = props.userState;\r\n\r\n    return (\r\n        <li className={styles.user}>\r\n            <div className={styles.userLeft}>\r\n                <img src={photos.small ?? defaultAvatar} alt=\"avatar\" />\r\n                {followed ? <button disabled={props.isFollowing.some(userId => userId === id )} className={cn(styles.followBtn, styles.followed)} onClick={() => props.unFollow(id)}> <Icon name=\"unfollow\"/>Unfollow</button>\r\n                          : <button disabled={props.isFollowing.some(userId => userId === id )} className={cn(styles.followBtn, styles.unfollowed)} onClick={() => props.follow(id)}> <Icon name=\"follow\"/>Follow</button>}\r\n            </div>\r\n            <div className={styles.userRight}>\r\n                <h4 className={styles.userName}>{name}</h4>\r\n                {status && <p className={styles.userStatus}>{status}</p> }\r\n            </div>\r\n            <NavLink to={'/profile/' + id}/>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default User;","import styles from \"./Users.module.scss\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport User from \"./User/User\";\r\n\r\nconst Users = ({ users, totalUsersCount, pageSize, currentPage, onPageChanged, follow, unFollow, isFollowing }) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n        let i, pages = [];\r\n        for(i = 1; i <= pagesCount; i += 1) {\r\n            pages.push(i);\r\n        }\r\n\r\n    return (\r\n        <section className={styles.users}>\r\n            <Pagination currentPage={currentPage} onPageChanged={onPageChanged} pagesNumbers={pages}/>\r\n            <ul className={styles.userList}>\r\n                {users.map(user => {                                                \r\n                    return (\r\n                            <User userState={user} key={user.id} follow={follow} unFollow={unFollow} isFollowing={isFollowing}/>\r\n                            )\r\n                })}\r\n            </ul>\r\n            {currentPage !== pages.length && (\r\n            <div className={styles.showMore}>\r\n                <button onClick={() => {\r\n                    onPageChanged(currentPage + 1)\r\n                    window.scrollTo(0, 0)\r\n                    }}>Show more...</button>\r\n            </div>\r\n            )}\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Users;","import { createSelector } from 'reselect';\r\n\r\nconst getUsersSelector = state => state.usersPage.users;\r\nexport const getUsers = createSelector(getUsersSelector, (users) => users.filter(u => true))\r\n\r\nexport const getPageSize = state => state.usersPage.pageSize;\r\nexport const getTotalUsersCount = state => state.usersPage.totalUsersCount;\r\nexport const getCurrentPage = state => state.usersPage.currentPage;\r\nexport const getFollowingInProgress = state => state.usersPage.followingInProgress;\r\n","import { useEffect, useState } from \"react\";\r\nimport Users from \"./Users\";\r\nimport Loader from \"../common/Loader/Loader\";\r\nimport { connect } from 'react-redux';\r\nimport { follow, unFollow, setCurrentPage, requestUsers } from './../../redux/users-reducer';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getFollowingInProgress } from \"./../../redux/users-selectors\";\r\nimport { compose } from \"redux\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { CloseSidebar } from \"../../hoc/CloseSidebar\";\r\n\r\nconst UsersContainer = ({currentPage, setCurrentPage, pageSize, users, requestUsers, ...props}) => {\r\n\r\n    const [isFetching, toggleIsFetching] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if(users.length === 0) {\r\n            toggleIsFetching(true);\r\n            requestUsers(currentPage, pageSize)\r\n                .then(() => toggleIsFetching(false));\r\n        }\r\n    }, [currentPage, pageSize, users, toggleIsFetching, requestUsers])\r\n\r\n    const onPageChanged = pageNumber => {\r\n        setCurrentPage(pageNumber)\r\n        requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    return isFetching ? <Loader /> : \r\n            <Users \r\n                onPageChanged={onPageChanged} \r\n                users={users} \r\n                currentPage={currentPage}\r\n                pageSize={pageSize}\r\n                {...props}\r\n            />\r\n\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFollowing: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unFollow,\r\n        setCurrentPage,\r\n        requestUsers\r\n        }),\r\n    WithAuthRedirect,\r\n    CloseSidebar\r\n)(UsersContainer)","import { useForm } from \"react-hook-form\";\r\nimport { maxLenghtCreator } from \"../../utils/validators/index.js\";\r\nimport { CheckBox, Input, Textarea } from \"../common/formsControls/FormsControls\";\r\nimport styles from \"./Settings.module.scss\";\r\nimport cn from \"classnames\";\r\nimport Icon from \"../common/Icon/Icon\";\r\nimport { useState } from \"react\";\r\n\r\nconst ProfileEditor = ({saveProfile, profile}) => {\r\n    const { register, handleSubmit, formState: { errors }, clearErrors } = useForm({\r\n        defaultValues: {...profile}\r\n    })\r\n\r\n    const [submitError, setSubmitError] = useState(null);\r\n\r\n    const catchError = error => {\r\n        //checking if error is invalid contact URL      \r\n        if(error.includes(\"Invalid url\")) {\r\n            const contactFieldName = error.split(\">\")[1].slice(0, -1).toLowerCase();\r\n            setSubmitError({\r\n                type: \"contact\",\r\n                name: contactFieldName\r\n            })\r\n        } else {\r\n            setSubmitError({\r\n                type: \"global\",\r\n                text: error \r\n            })\r\n        }\r\n    }\r\n    \r\n    return (\r\n            <form \r\n                onSubmit={(e) => {\r\n                    handleSubmit(saveProfile)(e)\r\n                        .catch(e => catchError(e))\r\n                }} \r\n                className={styles.form}\r\n            >\r\n                <div className={styles.mainSettings}>\r\n                    <h2 className={styles.title}>Profile settings:</h2>\r\n\r\n                    <div className={styles.fieldContainer}>\r\n                        <label>\r\n                            <span>Full Name:</span>\r\n                            <Input \r\n                                type={\"text\"}\r\n                                label={\"fullName\"}\r\n                                placeholder={\"Enter your name\"}\r\n                                errors={errors}\r\n                                register={register}\r\n                                required\r\n                                maxLength={maxLenghtCreator(100)}\r\n                                onBlur={() => clearErrors()}\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                    <div className={styles.fieldContainer}>\r\n                        <label>\r\n                            <span>About me:</span>\r\n                            <Textarea\r\n                                label={\"aboutMe\"}\r\n                                placeholder={\"About you info\"}\r\n                                errors={errors}\r\n                                register={register}\r\n                                maxLength={maxLenghtCreator(315)}\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                    <div className={cn(styles.fieldContainer, styles.checkbox)}>\r\n                        <label>\r\n                            <span>Looking for a job:</span>\r\n                            <CheckBox \r\n                                type={\"checkbox\"}\r\n                                label={\"lookingForAJob\"}\r\n                                register={register}\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                    <div className={styles.fieldContainer}>\r\n                        <label>\r\n                            <span>My professional skills:</span>\r\n                            <Textarea\r\n                                label={\"lookingForAJobDescription\"}\r\n                                placeholder={\"Your skills\"}\r\n                                errors={errors}\r\n                                register={register}\r\n                                maxLength={maxLenghtCreator(100)}\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.contactsContainer}>\r\n                    <h2 className={styles.title}>Contacts:</h2>\r\n\r\n                    {profile.contacts && Object.keys(profile.contacts).map(key => {\r\n                        //Checking for a Submit Error and matching an erroneous field\r\n                        let invalidUrl = submitError && (submitError.type === \"contact\" && submitError.name === key.toLowerCase());\r\n\r\n                        return (\r\n                            <div className={cn(styles.fieldContainer)} key={key}>\r\n                                <label>\r\n                                    <span>{key}</span>\r\n                                    <Input \r\n                                        type={\"text\"}\r\n                                        label={\"contacts.\" + key}\r\n                                        placeholder={key}\r\n                                        errors={errors}\r\n                                        register={register}\r\n                                        maxLength={maxLenghtCreator(250)}\r\n                                        onBlur={() => clearErrors()}\r\n                                        isErrorStyle={invalidUrl}\r\n                                    />\r\n                                </label>\r\n                                { invalidUrl ? (\r\n                                        <div className={cn({[styles.errorContainer]: true, [styles.activeError]: invalidUrl})}>\r\n                                            <span>Invalid URL format</span>\r\n                                        </div>\r\n                                    )\r\n                                    : null\r\n                                }\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                {\r\n                    submitError && submitError.type === \"global\" ? (\r\n                        <div>\r\n                            <span>{submitError.text}</span>\r\n                        </div>\r\n                    ) : null\r\n                }\r\n                <button className={cn(\"submit_btn\", styles.submit)}>Save <Icon name=\"save\"/></button>\r\n            </form>\r\n    )\r\n}\r\n\r\nexport default ProfileEditor;\r\n","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { saveProfile } from \"../../redux/profile-reducer\";\r\nimport styles from \"./Settings.module.scss\";\r\nimport Loader from \"../common/Loader/Loader\";\r\nimport ProfileEditor from \"./ProfileEditor\";\r\nimport { CloseSidebar } from \"../../hoc/CloseSidebar\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Settings = ({profile, saveProfile}) => {   \r\n    const [isProfileLoaded, setProfileLoaded] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        if(profile) {\r\n            setProfileLoaded(profile.hasOwnProperty(\"aboutMe\"));\r\n        }\r\n    }, [profile])\r\n\r\n    return (\r\n        !isProfileLoaded \r\n        ? <Loader />\r\n        : (\r\n            <section className={styles.settings}>\r\n                <ProfileEditor profile={profile} saveProfile={saveProfile}/>\r\n            </section>\r\n        )\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    userId: state.auth.userId,\r\n    profile: state.profilePage.ownerProfile\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {saveProfile}),\r\n    WithAuthRedirect,\r\n    CloseSidebar\r\n)(Settings)","import { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { CheckBox, Input } from \"../common/formsControls/FormsControls\";\r\nimport styles from \"./Login.module.scss\";\r\nimport cn from \"classnames\";\r\nimport Icon from \"../common/Icon/Icon\";\r\nimport { useState } from \"react\";\r\n\r\nconst LoginForm = ({onSubmit, captchaUrl}) => {\r\n    const { register, handleSubmit, formState: { errors } } = useForm();\r\n    \r\n    const [submitError, setSubmitError] = useState(null);\r\n\r\n    return (\r\n        <form onSubmit={(e) => {\r\n            handleSubmit(onSubmit)(e)\r\n                .catch(e => setSubmitError(e))\r\n            }}  \r\n            className={styles.form}\r\n        >\r\n            <div className={styles.fieldContainer}>\r\n                <Input \r\n                    type=\"text\" \r\n                    label={\"email\"} \r\n                    placeholder={\"Login\"}\r\n                    register={register}\r\n                    errors={errors}\r\n                    required\r\n                />\r\n            </div>\r\n            <div className={styles.fieldContainer}>\r\n                <Input \r\n                type=\"password\" \r\n                label={\"password\"} \r\n                placeholder={\"Password\"}\r\n                register={register}\r\n                errors={errors}\r\n                required\r\n                onKeyPress={event => event.key === 'Enter' && handleSubmit(onSubmit)()}\r\n                />\r\n            </div>\r\n            <label className={styles.remember_label}>\r\n                <span>Remember me</span>\r\n                <CheckBox type=\"checkbox\" label={\"rememberMe\"} register={register} />\r\n            </label>\r\n            {\r\n                submitError && (\r\n                    <div className={styles.formSummaryError}>\r\n                        <Icon name=\"error_info\"/>\r\n                        {submitError}\r\n                    </div>\r\n                )\r\n            }\r\n            {\r\n                captchaUrl && (\r\n                    <div className={styles.captchaContainer}>\r\n                        <img src={captchaUrl} alt={\"Captcha\"}/>\r\n                        <Input \r\n                            type={\"text\"} \r\n                            label={\"captcha\"} \r\n                            placeholder={\"Enter symbols from image\"}\r\n                            register={register}\r\n                            errors={errors}\r\n                            required\r\n                            onKeyPress={event => event.key === 'Enter' && handleSubmit(onSubmit)()}\r\n                        />\r\n                    </div>\r\n                )\r\n            }\r\n            <button className={cn(\"submit_btn\", styles.submit)}>Login</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst Login = ({login, captchaUrl, isAuth}) => {\r\n    const onSubmit = (formData) => {\r\n        return login({...formData})\r\n    }\r\n\r\n    if(isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div className={styles.login}>\r\n            <div className={styles.container}>\r\n            <span className={styles.header}>Login</span>\r\n                <LoginForm onSubmit={onSubmit} captchaUrl={captchaUrl} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({auth: {captchaUrl, isAuth}}) => ({ captchaUrl, isAuth })\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import styles from \"./Page404.module.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Page404 = props => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.container}>\r\n                <b className={styles.b}>404</b>\r\n                <br/>\r\n                <span>Page not found</span>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                <NavLink to={\"/profile\"}>Go to Profile page...</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Page404","import { Route, Redirect, withRouter, HashRouter, Switch } from \"react-router-dom\";\r\nimport { lazy, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { initializeApp } from \"./redux/app-reducer\";\r\nimport { compose } from \"redux\";\r\nimport { WithSuspense } from \"./hoc/WithSuspense\";\r\nimport \"./App.scss\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport News from \"./components/News/News\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Loader from \"./components/common/Loader/Loader\";\r\nimport Page404 from \"./components/common/Page-404/Page404\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\n\r\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\nconst App = ({initializeApp, initialized}) => {\r\n\r\nconst catchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n  toast.error(promiseRejectionEvent.reason || \"Some error...\");\r\n  console.error(promiseRejectionEvent);\r\n}\r\n\r\nuseEffect(() => {\r\n  initializeApp()\r\n  window.addEventListener(\"unhandledrejection\", catchAllUnhandledErrors);\r\n  return () => {\r\n    window.removeEventListener(\"unhandledrejection\", catchAllUnhandledErrors);\r\n  }\r\n})\r\n\r\nif(!initialized) {\r\n  return <Loader />\r\n} else {\r\n  return (\r\n    <div className=\"app-container\">\r\n      <ToastContainer position=\"top-center\"/>\r\n      <HeaderContainer/>\r\n      <div className=\"main-wrapper\">\r\n        <Sidebar/>\r\n        <main className=\"main\">\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Redirect to=\"/news\" />\r\n            </Route>\r\n            <Route \r\n              path='/profile/:userID?' \r\n              render={WithSuspense(ProfileContainer)}\r\n            />\r\n            <Route \r\n              path='/dialogs/:dialogID?' \r\n              render={WithSuspense(DialogsContainer)}\r\n            />\r\n            <Route path='/news' render={() => <News/>}/>\r\n            <Route path='/users' render={() => <UsersContainer/>}/>\r\n            <Route path='/settings' render={() => <Settings/>}/>\r\n            <Route path='/login' render={() => <Login />} />\r\n            <Route path='*' render={() => <Page404/> } />\r\n          </Switch>\r\n        </main>\r\n      </div> \r\n    </div>\r\n  );\r\n}\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App);\r\n\r\nconst SocialApp = props => {\r\n  return (\r\n    <HashRouter>\r\n        <Provider store={store}>\r\n          <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default SocialApp;","// import reportWebVitals from './reportWebVitals';\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport SocialApp from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n  <SocialApp />,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals(renderEntireTree(store.getState()));\r\n"],"sourceRoot":""}