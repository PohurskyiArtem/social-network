{"version":3,"sources":["api/api.js","components/Sidebar/Navbar/Navbar.module.scss","components/Settings/Settings.module.scss","components/common/Pagination/Pagination.module.scss","components/common/formsControls/FormsControls.module.scss","components/common/Icon/icons.svg","components/common/Icon/Icon.jsx","utils/validators/index.js","components/common/formsControls/FormsControls.js","components/Login/Login.module.scss","components/Users/User/User.module.scss","components/Header/Header.module.scss","components/common/Loader/Loader.jsx","redux/profile-reducer.js","hoc/CloseSidebar.js","redux/sidebar-reducer.js","components/common/MenuButton/MenuButton.module.scss","components/Sidebar/Friendsbar/Friend/Friend.module.scss","defaultAvatar.png","hoc/WithAuthRedirect.js","components/Sidebar/Sidebar.module.scss","components/Users/Users.module.scss","components/common/Page-404/Page404.module.scss","components/common/Loader/Loader.module.scss","components/Sidebar/Friendsbar/Friendsbar.module.scss","redux/dialogs-reducer.js","components/common/Info/Info.jsx","components/News/News.module.scss","components/common/Info/Info.module.scss","utils/functions/updateObjectInArray.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/store.js","hoc/WithSuspense.js","components/common/MenuButton/MenuButton.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Sidebar/Navbar/Icon/icons.svg","components/Sidebar/Navbar/Icon/Icon.jsx","components/Sidebar/Navbar/Navbar.jsx","components/Sidebar/Friendsbar/Friend/Friend.jsx","components/Sidebar/Friendsbar/Friendsbar.jsx","components/Sidebar/Sidebar.jsx","components/News/News.jsx","components/common/Pagination/PageLink.jsx","components/common/Pagination/UserInput.jsx","components/common/Pagination/Pagination.jsx","components/Users/Icon/icons.svg","components/Users/Icon/Icon.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Settings/ProfileEditor.jsx","components/Settings/Settings.jsx","components/Login/Login.jsx","components/common/Page-404/Page404.jsx","App.js","index.js"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","endpoint","getUsers","currentPage","pageSize","get","this","then","response","data","profileAPI","getProfile","userID","getStatus","userId","updateStatus","status","put","uploadPhoto","photoFile","formData","FormData","append","saveProfile","profile","followAPI","follow","id","post","unFollow","delete","authAPI","auth","login","logout","securityAPI","getCaptcha","module","exports","Icon","name","xmlns","xmlnsXlink","xlinkHref","icons","composeValidators","validators","value","reduce","error","validator","undefined","requiredField","maxLenghtCreator","maxLenght","length","Textarea","input","meta","touched","submitError","type","autoFocus","props","className","cn","style","textarea","entry_field","errorContainer","Input","CheckBox","checkbox","Loader","styles","container","lds_facebook","ADD_POST","SET_USER_PROFILE","TOGGLE_PROFILE_LOADING","SET_USER_STATUS","DELETE_POST","UPLOAD_PHOTO","SET_OWNER_PROFILE","SET_OWNER_STATUS","initialState","postsData","postText","ownerProfile","profileIsLoading","profileReducer","state","action","newPostbody","image","avatar","isProfileLoading","filter","photos","addPost","setUserProfile","setOwnerProfile","toggleProfileLoading","setUserStatus","setOwnerStatus","dispatch","actionCreator","a","getUserProfile","getOwnerProfile","getUserStatus","getOwnerStatus","resultCode","photo","getState","message","messages","FORM_ERROR","mapStateToProps","CloseSidebar","Component","CloseSidebarComponent","toggleSidebar","React","connect","TOGGLE_SIDEBAR","isSidebarOpen","friendsList","isOpen","payload","toggleSidebarAC","sidebarReducer","mapStateToPropsForRedirect","isAuth","WithAuthRedirect","RedirectComponent","to","ADD_MESSAGE","dialogsData","messagesData","messageId","dialogsId","messageText","dialogsReducer","createMessage","addMessage","Info","text","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FOLLOWING","users","totalUsersCount","isFetching","followingInProgress","usersReducer","followed","pageNumber","count","isFollowingToggle","followSuccess","unFollowSuccess","toggleIsFollowing","followUnfollowflow","apiMethod","SET_USER_DATA","SET_CAPTCHA_URL","email","captchaUrl","setUserData","setCaptchaUrl","authMe","getCaptchaUrl","url","authReducer","SET_INITIALIZING_APP","initialized","appReducer","reducers","combineReducers","app","profilePage","dialogsPage","sidebar","usersPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","WithSuspense","fallback","MenuButton","onClickFunction","onClick","menu","menuBtn","menuBurger","menuExit","Header","userName","isVisible","setVisible","header","hide","title","shortTitle","loginBlock","loginPanel","userInfo","margin","useState","scrollY","scrollPos","setScrollPos","useEffect","onScroll","console","log","addEventListener","removeEventListener","Navbar","nav","link","activeClassName","current","Friend","friend","href","friendLink","src","defaultAvatar","alt","Friendsbar","friendsbar","friends_list","active","contentWrapper","news","PageLink","onPageChanged","currentBoolean","pagination_btn","selectedPage","disabled","UserInput","lastPageNumber","goToPage","inputValue","changeInputValue","userInput","onChange","e","target","DotsBetweenPags","dotsWithinPags","key","Pagination","pagesNumbers","paginationContainer","pagination","step_btn","p","ifPageFirst","ifPageLast","toString","User","userState","user","userLeft","small","isFollowing","some","followBtn","unfollowed","userRight","userStatus","Users","i","pagesCount","Math","ceil","pages","push","userList","showMore","scrollTo","createSelector","u","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","UsersContainer","setCurrentPage","requestUsers","setState","bind","totalCount","maxLength30","maxLength315","ProfileEditor","onSubmit","initialValues","handleSubmit","form","mainSettings","fieldContainer","validate","component","placeholder","contactsContainer","Object","keys","contacts","invalidUrl","includes","toUpperCase","slice","contactContainer","submit","Settings","settings","maxLength50","LoginForm","remember_label","formSummaryError","captchaContainer","Page404","wrapper","b","ProfileContainer","lazy","DialogsContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","initializeApp","exact","path","render","AppContainer","withRouter","Promise","all","SocialApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c1e9258b.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"41bf619d-5f1e-4bc5-8bd8-728246f3affc\" \r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    endpoint: \"users\", \r\n    getUsers ( currentPage = 1, pageSize = 10 ) {\r\n        return instance.get(\r\n            `${this.endpoint}?page=${currentPage}&count=${pageSize}`\r\n          ).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    endpoint: 'profile/',\r\n    getProfile ( userID ) {\r\n        return instance.get(\r\n            this.endpoint + userID\r\n          ).then(response => response.data)\r\n    },\r\n    getStatus ( userId ) {\r\n        return instance.get(\r\n            this.endpoint + \"status/\" + userId\r\n        ).then(response => response.data)\r\n    },\r\n    updateStatus ( status ) {\r\n        return instance.put(this.endpoint + \"status/\", { status })\r\n    },\r\n    uploadPhoto (photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(this.endpoint + \"photo/\", formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        } )\r\n    },\r\n    saveProfile (profile) {\r\n        return instance.put(this.endpoint, {...profile})\r\n    }\r\n}\r\n\r\nexport const followAPI =  {\r\n    endpoint: 'follow/',\r\n\r\n    follow (id, data = {}) {\r\n        return instance.post(\r\n            this.endpoint + id, data\r\n        ).then(response => response.data)\r\n    },\r\n\r\n    unFollow (id) {\r\n        return instance.delete(\r\n            this.endpoint + id\r\n        ).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    endpoint: 'auth/',\r\n\r\n    auth () {\r\n        return instance.get(\r\n            this.endpoint + 'me'\r\n          ).then(response => {\r\n            return response.data\r\n          });\r\n    },\r\n\r\n    login (formData) {\r\n        return instance.post(\r\n            this.endpoint + \"login\", {...formData}\r\n        ).then(response => response.data);\r\n    },\r\n\r\n    logout () {\r\n        return instance.delete(\r\n            this.endpoint + \"login\"\r\n        ).then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    endpoint: 'security/',\r\n\r\n    getCaptcha () {\r\n        return instance.get(this.endpoint + \"get-captcha-url\");\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__EvjId\",\"item\":\"Navbar_item__1nyvK\",\"link\":\"Navbar_link__1nh7S\",\"current\":\"Navbar_current__L7CIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Settings_title__1VWwB\",\"form\":\"Settings_form__gt1PO\",\"mainSettings\":\"Settings_mainSettings__3n7m6\",\"contactsContainer\":\"Settings_contactsContainer__1Jezh\",\"fieldContainer\":\"Settings_fieldContainer__1Qi3-\",\"checkbox\":\"Settings_checkbox__2BFL2\",\"submit\":\"Settings_submit__2rTqQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationContainer\":\"Pagination_paginationContainer__t_Syo\",\"pagination\":\"Pagination_pagination__1C_Ur\",\"dotsWithinPags\":\"Pagination_dotsWithinPags__3OVVV\",\"pagination_btn\":\"Pagination_pagination_btn__JuFj6\",\"step_btn\":\"Pagination_step_btn__3McGi\",\"selectedPage\":\"Pagination_selectedPage__24Luf\",\"userInput\":\"Pagination_userInput__3i6xh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"FormsControls_textarea__3X6h4\",\"input\":\"FormsControls_input__3umBr\",\"error\":\"FormsControls_error__3aR7y\",\"errorContainer\":\"FormsControls_errorContainer__BGS7D\",\"entry_field\":\"FormsControls_entry_field__3cs_3\"};","export default __webpack_public_path__ + \"static/media/icons.644f2a5a.svg\";","import React from 'react'\r\n\r\nimport icons from './icons.svg'\r\n\r\nconst Icon = ({ name }) => {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t>\r\n\t\t\t<use xlinkHref={`${icons}#${name}`} />\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Icon;","export const composeValidators = (...validators) => (value) => validators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\nexport const requiredField = (value) => {\r\n    if(value) return undefined;\r\n    return 'Field is empty';\r\n}\r\n\r\nexport const maxLenghtCreator = (maxLenght) => (value) => {\r\n    if( value == null || value.length <= maxLenght) return undefined;  \r\n    return `Max lenght is ${maxLenght} symbols`\r\n}\r\n","import style from \"./FormsControls.module.scss\"\r\nimport cn from \"classnames\";\r\nimport Icon from \"../Icon/Icon\";\r\n\r\nexport const Textarea = ({input, meta: {touched, error}, type, autoFocus = false, submitError, ...props}) => {\r\n    return (\r\n        <div className={cn({[style.error]: error && touched})}>\r\n            <textarea  {...input} {...props} className={cn(style.textarea, style.entry_field)}/>\r\n            {(error && touched) || (submitError && touched) \r\n                ? (\r\n                    <div className={style.errorContainer}>\r\n                        <Icon name=\"form_error\"/>\r\n                        <span>{error || submitError}</span>\r\n                    </div>\r\n                )\r\n                : null   \r\n            }             \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta: {touched, error}, type, autoFocus = false, submitError, ...props}) => {\r\n    return (\r\n        <div className={cn({[style.error]: (submitError || error) && touched})}>\r\n            <input type={type} {...input} {...props} className={cn(style.input, style.entry_field)} autoFocus={autoFocus}/>\r\n            {(error && touched) || (submitError && touched) \r\n                ? (\r\n                    <div className={style.errorContainer}>\r\n                        <Icon name=\"form_error\"/>\r\n                        <span>{error || submitError}</span>\r\n                    </div>\r\n                )\r\n                : null   \r\n            }       \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const CheckBox = ({input, meta: {error}, type, ...props}) => {\r\n    return (\r\n        <div className={cn({[style.error]: error})}>\r\n            <input type={type} {...input} {...props} className={cn(style.checkbox)}/>\r\n            { error  \r\n                ? (\r\n                    <div className={style.errorContainer}>\r\n                        <span>{error}</span>\r\n                    </div>\r\n                )\r\n                : null   \r\n            }       \r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__1wY_2\",\"header\":\"Login_header__k3LnE\",\"container\":\"Login_container__3O5MJ\",\"form\":\"Login_form__1gzeu\",\"fieldContainer\":\"Login_fieldContainer__wFQqf\",\"remember_label\":\"Login_remember_label__29TjB\",\"formSummaryError\":\"Login_formSummaryError__1_lNx\",\"submit\":\"Login_submit__3MwP6\",\"captchaContainer\":\"Login_captchaContainer__3HEVg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3gscj\",\"userLeft\":\"User_userLeft__Fbxi-\",\"userRight\":\"User_userRight__2O6On\",\"userName\":\"User_userName__YuSkB\",\"userStatus\":\"User_userStatus__3OHGU\",\"followBtn\":\"User_followBtn__3CPzt\",\"unfollowed\":\"User_unfollowed__1myDM\",\"followed\":\"User_followed__1UMKq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ygEQ\",\"hide\":\"Header_hide__1Ou0e\",\"title\":\"Header_title__29jBk\",\"shortTitle\":\"Header_shortTitle__2-WzH\",\"loginBlock\":\"Header_loginBlock__YF7Lk\",\"loginPanel\":\"Header_loginPanel__3AOHA\",\"userInfo\":\"Header_userInfo__xiwL7\",\"userName\":\"Header_userName__2fPDc\"};","import styles from \"./Loader.module.scss\";\r\n\r\nconst Loader = props => {\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.lds_facebook}>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import { FORM_ERROR } from \"final-form\";\r\nimport { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"PROFILE_PAGE__ADD_POST\",\r\n  SET_USER_PROFILE = \"PROFILE_PAGE__SET_USER_PROFILE\",\r\n  TOGGLE_PROFILE_LOADING = \"PROFILE_PAGE__TOGGLE_PROFILE_LOADING\",\r\n  SET_USER_STATUS = \"PROFILE_PAGE__SET_USER_STATUS\",\r\n  DELETE_POST = \"PROFILE_PAGE__DELETE_POST\",\r\n  UPLOAD_PHOTO = \"PROFILE_PAGE__UPLOAD_PHOTO\",\r\n  SET_OWNER_PROFILE = \"SET_OWNER_PROFILE\",\r\n  SET_OWNER_STATUS = \"SET_OWNER_STATUS\";\r\n\r\nlet initialState = {\r\n  postsData: [\r\n    //test values\r\n    {\r\n      id: 1,\r\n      postText: \"Hello? How are you?\",\r\n    },\r\n    {\r\n      id: 2,\r\n      postText: \"London is the capital of Great Britain, did you know?\",\r\n    },\r\n    {\r\n      id: 3,\r\n      postText: \"Kak menya vse zaebalo, hochu obratno domoy v Japan\",\r\n    },\r\n    {\r\n      id: 4,\r\n      postText:\r\n        \"I just dream of making web applications using React, PLEASE let me to try\",\r\n    },\r\n  ],\r\n  profile: null,\r\n  ownerProfile: null,\r\n  profileIsLoading: false,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        postsData: [\r\n          ...state.postsData,\r\n          {\r\n            id: state.postsData[state.postsData.length - 1].id + 1,\r\n            postText: action.newPostbody,\r\n            image: action.avatar,\r\n          },\r\n        ],\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n\r\n    case SET_OWNER_PROFILE:\r\n      return {\r\n        ...state,\r\n        ownerProfile: action.profile,\r\n      };\r\n\r\n    case TOGGLE_PROFILE_LOADING:\r\n      return {\r\n        ...state,\r\n        profileIsLoading: action.isProfileLoading,\r\n      };\r\n\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, status: action.status}\r\n      };\r\n\r\n    case SET_OWNER_STATUS:\r\n    return {\r\n      ...state,\r\n      ownerProfile: {...state.ownerProfile, status: action.status}\r\n    };\r\n\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        postsData: state.postsData.filter((post) => post.id !== action.id),\r\n      };\r\n\r\n    case UPLOAD_PHOTO:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n\r\n// Action creators\r\n\r\nexport const addPost = (avatar, newPostbody) => ({\r\n  type: ADD_POST,\r\n  avatar,\r\n  newPostbody,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const setOwnerProfile = (profile) => ({\r\n  type: SET_OWNER_PROFILE,\r\n  profile,\r\n});\r\nexport const toggleProfileLoading = (isProfileLoading) => ({\r\n  type: TOGGLE_PROFILE_LOADING,\r\n  isProfileLoading,\r\n});\r\nexport const setUserStatus = (status) => ({\r\n  type: SET_USER_STATUS,\r\n  status,\r\n});\r\nexport const setOwnerStatus = (status) => ({\r\n  type: SET_OWNER_STATUS,\r\n  status,\r\n});\r\nexport const deletePost = (id) => ({\r\n  type: DELETE_POST,\r\n  id,\r\n});\r\nexport const uploadPhotoSuccess = (photos) => ({\r\n  type: UPLOAD_PHOTO,\r\n  photos,\r\n});\r\n\r\nexport const getProfile = async (dispatch, id, actionCreator) => {\r\n  dispatch(toggleProfileLoading(true));\r\n\r\n  let response = await profileAPI.getProfile(id);\r\n  dispatch(actionCreator(response));\r\n\r\n  dispatch(toggleProfileLoading(false));\r\n};\r\n\r\nconst getStatus = async (dispatch, id, actionCreator) => {\r\n  let response = await profileAPI.getStatus(id);\r\n  dispatch(actionCreator(response));\r\n};\r\n\r\n// Thunks creators\r\n\r\nexport const getUserProfile = (id) => (dispatch) => getProfile(dispatch, id, setUserProfile);\r\n\r\nexport const getOwnerProfile = (id) => (dispatch) => getProfile(dispatch, id, setOwnerProfile);\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => getStatus(dispatch, userId, setUserStatus)\r\n\r\nexport const getOwnerStatus = (userId) => async (dispatch) => getStatus(dispatch, userId, setOwnerStatus)\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setOwnerStatus(status));\r\n  }\r\n};\r\n\r\nexport const uploadPhoto = (photo) => async (dispatch) => {\r\n  let response = await profileAPI.uploadPhoto(photo);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(uploadPhotoSuccess(response.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  let { data } = await profileAPI.saveProfile(profile);\r\n  if (data.resultCode === 0) {\r\n    dispatch(getOwnerProfile(userId));\r\n  } else {\r\n    let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n    return { [FORM_ERROR]: message };\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { toggleSidebar } from \"../redux/sidebar-reducer\";\r\n\r\nlet mapStateToProps = state => ({})\r\n\r\nexport const CloseSidebar = Component => {\r\n    \r\n    class CloseSidebarComponent extends React.Component {\r\n        constructor(props) {\r\n            super();\r\n            props.toggleSidebar(false);\r\n        }\r\n\r\n        render () {\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedCloseSidebarComponent = connect(mapStateToProps, {toggleSidebar}) (CloseSidebarComponent)\r\n\r\n    return ConnectedCloseSidebarComponent;\r\n}","const TOGGLE_SIDEBAR = \"TOGGLE_SIDEBAR\";\r\n\r\nlet initialState = {\r\n    isSidebarOpen: false,\r\n    friendsList: [\r\n        {\r\n          id: 1,\r\n          name: \"Dimych\"\r\n        },\r\n        {\r\n          id: 2,\r\n          name: \"Artem\"\r\n        },\r\n        {\r\n          id: 3,\r\n          name: \"Nastya\"\r\n        },\r\n        {\r\n          id: 4,\r\n          name: \"Olga\"\r\n        },\r\n        {\r\n          id: 5,\r\n          name: \"Lesha Domachuk\"\r\n        }\r\n      ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_SIDEBAR:\r\n    return {\r\n      ...state,\r\n      isSidebarOpen: typeof(action.payload) === 'boolean' ? action.payload : !state.isSidebarOpen\r\n    }\r\n\r\n    default:\r\n       return state;\r\n  }\r\n}\r\n\r\nexport const toggleSidebarAC = (isOpen) => ({\r\n  type: TOGGLE_SIDEBAR,\r\n  payload: isOpen\r\n});\r\n\r\nexport const toggleSidebar = (isOpen) => dispatch => {\r\n  dispatch(toggleSidebarAC(isOpen));\r\n}\r\n\r\nexport default sidebarReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MenuButton_menu__3hN0Y\",\"menuBtn\":\"MenuButton_menuBtn__vGGyi\",\"isOpen\":\"MenuButton_isOpen__3-6vT\",\"menuBurger\":\"MenuButton_menuBurger__1gC2t\",\"menuExit\":\"MenuButton_menuExit__2KLi2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__39SU3\",\"friendLink\":\"Friend_friendLink__3LN-Y\",\"avatar\":\"Friend_avatar__3DubV\",\"name\":\"Friend_name__3ePRE\"};","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from \"react-router\"\r\n\r\nlet mapStateToPropsForRedirect = state => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const WithAuthRedirect = Component => {\r\n    \r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedRedirectAuthComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n\r\n    return ConnectedRedirectAuthComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1QnXR\",\"active\":\"Sidebar_active__1Avnw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3yTIs\",\"showMore\":\"Users_showMore__3HPgs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Page404_wrapper__1QCW_\",\"container\":\"Page404_container__1Vij9\",\"b\":\"Page404_b__1a9Hw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__3Pk9Q\",\"lds_facebook\":\"Loader_lds_facebook__20Jgv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsbar\":\"Friendsbar_friendsbar__3CV9T\",\"friends_list\":\"Friendsbar_friends_list__2L2oa\"};","const ADD_MESSAGE = \"ADD-MESSAGE-TO-DIALOG_TEST\";\r\n\r\nlet initialState = {\r\n  dialogsData: [\r\n    {\r\n      id: 1,\r\n      userId: 2, \r\n      name: \"Dimych\",\r\n    },\r\n    {\r\n      id: 2,\r\n      userId: 99992, \r\n      name: \"Nastya\",\r\n    },\r\n    {\r\n      id: 3,\r\n      userId: 99993, \r\n      name: \"Artem\",\r\n    },\r\n    {\r\n      id: 4,\r\n      userId: 99994, \r\n      name: \"Lesha Domachuk\",\r\n    },\r\n    {\r\n      id: 5,\r\n      userId: 99995, \r\n      name: \"Olga\",\r\n    },\r\n  ],\r\n  messagesData: [\r\n    {\r\n      messageId: 1,\r\n      dialogsId: 1,\r\n      userId: 18640,\r\n      messageText: \"Hello Dimych!\",\r\n    },\r\n    {\r\n      messageId: 2,\r\n      dialogsId: 1,\r\n      userId: 2,\r\n      messageText: \"Hi Artem!\",\r\n    },\r\n    {\r\n      messageId: 3,\r\n      dialogsId: 1,\r\n      userId: 2,\r\n      messageText: \"How are you?\",\r\n    },\r\n    {\r\n      messageId: 4,\r\n      dialogsId: 4,\r\n      userId: 99994,\r\n      messageText: \"Здравстуйте! Меня зовут Алексей, я представитель компании Орифлейм. Есть выгодное предложения для вас, от которого вы не сможете отказаться =)\",\r\n    },\r\n    {\r\n      messageId: 5,\r\n      dialogsId: 5,\r\n      userId: 99995,\r\n      messageText: \"JavaScript is my favorite programming language\",\r\n    },\r\n    {\r\n      messageId: 6,\r\n      dialogsId: 5,\r\n      userId: 18640,\r\n      messageText: \"My to =))\",\r\n    }\r\n  ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messagesData: [...state.messagesData, {\r\n          messageId: state.messagesData[state.messagesData.length - 1].messageId + 1,\r\n          dialogsId: action.dialogsId,\r\n          userId: action.userId,\r\n          messageText: action.messageText\r\n        }]\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dialogsReducer;\r\n\r\nconst addMessage = (dialogsId, userId, messageText) => ({ type: ADD_MESSAGE, dialogsId, userId, messageText });\r\n\r\nexport const createMessage = (dialogsId, messageText) => (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  dispatch(addMessage(dialogsId, userId, messageText))\r\n}","import Icon from \"../Icon/Icon\";\r\nimport styles from \"./Info.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nconst Info = ({text}) => {\r\n\r\n    return (\r\n        <div className={cn(styles.container, \"info\")}>\r\n            <Icon name={\"error_info\"}/>\r\n            <span>{text}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__3bMP8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Info_container__2rxfE\"};","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map((item) => {\r\n    if (item[objPropName] === itemId) {\r\n      return { ...item, ...newObjProps };\r\n    }\r\n    return item;\r\n  });\r\n}\r\n\r\n","import { followAPI, usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/functions/updateObjectInArray\";\r\n\r\n// Action type constants\r\n\r\nconst FOLLOW = \"FOLLOW\",\r\n  UNFOLLOW = \"UNFOLLOW\",\r\n  SET_USERS = \"SET_USERS\",\r\n  SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\",\r\n  SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\",\r\n  TOGGLE_IS_FOLLOWING = \"TOGGLE_IS_FOLLOWING\";\r\n\r\n// Initial state for Users component \r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\n// Redusers\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n      };\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.pageNumber,\r\n      };\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count,\r\n      };\r\n\r\n    case TOGGLE_IS_FOLLOWING:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFollowingToggle\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default usersReducer;\r\n\r\n// Actions creators\r\n\r\nexport const followSuccess = (userId) => ({\r\n  type: FOLLOW,\r\n  userId,\r\n});\r\n\r\nexport const unFollowSuccess = (userId) => ({\r\n  type: UNFOLLOW,\r\n  userId,\r\n});\r\nexport const setUsers = (users) => ({\r\n  type: SET_USERS,\r\n  users,\r\n});\r\nexport const setCurrentPage = (pageNumber) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  pageNumber,\r\n});\r\nexport const setTotalUsersCount = (count) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count,\r\n});\r\nexport const toggleIsFollowing = (isFollowingToggle, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING,\r\n  isFollowingToggle,\r\n  userId,\r\n});\r\n\r\n// Thunks creators\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async dispatch => {\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n  };\r\n\r\n\r\nconst followUnfollowflow = async (dispatch, id, apiMethod, actionCreator) => {\r\n  dispatch(toggleIsFollowing(true, id));\r\n\r\n  let response = await apiMethod(id);\r\n  if (response.resultCode === 0) {\r\n    dispatch(actionCreator(id));\r\n  }\r\n\r\n  dispatch(toggleIsFollowing(false, id));\r\n}\r\n\r\nexport const unFollow = id => dispatch => {\r\n    let apiMethod = followAPI.unFollow.bind(followAPI);\r\n    let actionCreator = unFollowSuccess;\r\n    followUnfollowflow(dispatch, id, apiMethod, actionCreator);    \r\n};\r\n\r\nexport const follow = id => dispatch => {\r\n    let apiMethod = followAPI.follow.bind(followAPI);\r\n    let actionCreator = followSuccess;\r\n    followUnfollowflow(dispatch, id, apiMethod, actionCreator);    \r\n};\r\n","import { FORM_ERROR } from 'final-form'\r\nimport { authAPI, securityAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\",\r\n      SET_CAPTCHA_URL = \"samurai-network/auth/SET_CAPTCHA_URL\";\r\n\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case SET_CAPTCHA_URL:\r\n        \r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//action creators\r\n\r\nexport const setUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const setCaptchaUrl = (captchaUrl) => ({\r\n  type: SET_CAPTCHA_URL,\r\n  payload: {captchaUrl}\r\n});\r\n\r\n\r\n//thunk creators\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n  let {resultCode, data} =  await authAPI.auth();\r\n  if(resultCode === 0) {\r\n    let { login, id, email } = data;\r\n    dispatch(setUserData( id, email, login, true ));\r\n    return id;\r\n  }   \r\n};\r\n\r\nexport const login = (formData) => async dispatch => {\r\n  let {resultCode, messages} = await authAPI.login({...formData});\r\n  if(resultCode === 0) {\r\n    dispatch(authMe())\r\n    dispatch(setCaptchaUrl(null))\r\n  } else {\r\n    if(resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n    let message = messages.length > 0 && (resultCode === 10 ? \"Confirm that you are not a bot\" : messages[0]);\r\n    return { [FORM_ERROR]: message }\r\n  }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n  let response = await authAPI.logout();\r\n  if(response.resultCode === 0)  {\r\n    dispatch(setUserData( null, null, null, false ));\r\n    dispatch(authMe())\r\n  };\r\n};\r\n\r\nexport const getCaptchaUrl = () => async dispatch => {\r\n  const response = await securityAPI.getCaptcha();\r\n  dispatch(setCaptchaUrl(response.data.url));\r\n};\r\n\r\n\r\n\r\n\r\nexport default authReducer;","import { authMe } from \"./auth-reducer\";\r\nimport { getOwnerProfile, getOwnerStatus } from \"./profile-reducer\";\r\n\r\nconst SET_INITIALIZING_APP = \"SET_INITIALIZED_APP\";\r\n\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZING_APP:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//action creators\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: SET_INITIALIZING_APP\r\n});\r\n\r\n//thunk creators\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    Promise.all([\r\n      dispatch(authMe())\r\n    ])\r\n      .then(id => {\r\n        if (id) {\r\n          dispatch(getOwnerProfile(id[0]));\r\n          dispatch(getOwnerStatus(id[0]));\r\n        }\r\n        dispatch(initializedSuccess());\r\n      });    \r\n  };\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n  app: appReducer,\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(reducers, compose(applyMiddleware(thunkMiddleware), composeEnhancers()));\r\nwindow.store = store;\r\n\r\nexport default store;\r\n\r\n","import { Suspense } from \"react\"\r\nimport Loader from \"../components/common/Loader/Loader\"\r\n\r\nexport const WithSuspense = Component => {\r\n    return props => (\r\n        <Suspense fallback={<Loader/>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    )\r\n}","import style from \"./MenuButton.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nconst MenuButton = ({onClickFunction, isOpen}) => {\r\n    return (\r\n        <div onClick={onClickFunction} className={style.menu}>\r\n            <span className={cn({[style.menuBtn]: true, [style.isOpen]: isOpen})}>\r\n                <span className={style.menuBurger}></span>\r\n                <span className={style.menuExit}></span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MenuButton;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Header.module.scss';\r\nimport Icon from \"../common/Icon/Icon\";\r\nimport MenuButton from '../common/MenuButton/MenuButton';\r\nimport cn from \"classnames\";\r\n\r\nconst Header = ({isAuth, userName, logout, isOpen, toggleSidebar, isVisible, setVisible}) => {\r\n    return (\r\n        <header className={cn({[styles.header]: true, [styles.hide]: isVisible})}>\r\n            <MenuButton isOpen={isOpen} onClickFunction={toggleSidebar} />\r\n            <h1 className={styles.title}><span>S</span>ocial N<span></span>etwor<span>k</span></h1>\r\n            <h1 className={styles.shortTitle}><span>S</span>N</h1>\r\n\r\n            <div className={styles.loginBlock}>\r\n                {isAuth ? \r\n                (\r\n                    <div className={styles.loginPanel}>\r\n                        <NavLink to={'/profile'} className={styles.userInfo}>\r\n                            <span className={styles.userName}>{userName}</span>\r\n                        </NavLink>\r\n                        <span style={{margin: \"0 5px\"}}>|</span>\r\n                        <button onClick={logout}><Icon name=\"logout\"/><span>Logout</span></button>\r\n                    </div>\r\n                ) : <NavLink to={'/login'}>Login</NavLink>}          \r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { connect } from 'react-redux';\r\nimport Header from \"./Header\";\r\nimport { logout } from \"../../redux/auth-reducer\";\r\nimport { toggleSidebar } from  \"../../redux/sidebar-reducer\"; \r\nimport { useEffect, useState } from 'react';\r\n\r\nconst HeaderContainer = props => {\r\n    const [isVisible, setVisible] = useState(false);\r\n    const [scrollPos, setScrollPos] = useState(window.scrollY);\r\n\r\n    useEffect(() => {\r\n        const onScroll = () => {\r\n            if(window.scrollY > scrollPos) {\r\n                console.log('down')\r\n                setVisible(true);\r\n                setScrollPos(window.scrollY);\r\n            } else if(window.scrollY < scrollPos) {\r\n                setVisible(false);\r\n                setScrollPos(window.scrollY);\r\n            }\r\n        }\r\n\r\n        window.addEventListener('scroll', onScroll)\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', onScroll);\r\n        }\r\n    }, [scrollPos])\r\n\r\n    return (\r\n        <Header {...props} isVisible={isVisible} setVisible={setVisible}/>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        userName: state.auth.login,\r\n        isOpen: state.sidebar.isSidebarOpen\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout, toggleSidebar })(HeaderContainer)","export default __webpack_public_path__ + \"static/media/icons.78c7bf79.svg\";","import React from 'react'\r\n\r\nimport icons from './icons.svg'\r\n\r\nconst Icon = ({ name }) => {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t>\r\n\t\t\t<use xlinkHref={`${icons}#${name}`} />\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Icon;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Navbar.module.scss';\r\n\r\nimport Icon from './Icon/Icon';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={styles.nav}>\r\n            <ul className=\"list\">\r\n                <li className={styles.item}>\r\n                    <Icon name=\"profile\" />\r\n                    <NavLink to=\"/profile\" className={styles.link} activeClassName={styles.current}>Profile</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <Icon name=\"messages\" />\r\n                    <NavLink to=\"/dialogs\" className={styles.link} activeClassName={styles.current}>Messages</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <Icon name=\"news\" />\r\n                    <NavLink to=\"/news\" className={styles.link} activeClassName={styles.current}>News</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <Icon name=\"users\" />\r\n                    <NavLink to=\"/users\" className={styles.link} activeClassName={styles.current}>Users</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <Icon name=\"settings\" />\r\n                    <NavLink to=\"settings\" className={styles.link} activeClassName={styles.current}>Settings</NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport styles from './Friend.module.scss';\r\nimport defaultAvatar from \"./../../../../defaultAvatar.png\"\r\n\r\nconst Friend = props => {\r\n    return (\r\n        <li className={styles.friend}>\r\n            <a href=\"/profile\" className={styles.friendLink}>\r\n                <img src={defaultAvatar} alt=\"avatar\" className={styles.avatar} />\r\n                <span className={styles.name}>{props.name}</span>\r\n            </a>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport styles from \"./Friendsbar.module.scss\";\r\nimport Friend from \"./Friend/Friend\";\r\n\r\nconst Friendsbar = props => {\r\n    return (\r\n       <div className={styles.friendsbar}>\r\n           <h3>Friends</h3>\r\n           <ul className={styles.friends_list}>\r\n               {\r\n                   props.friendsList.map(friend => <Friend id={friend.id} name={friend.name} key={friend.id}/>)\r\n               }\r\n           </ul>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default Friendsbar;","import React from 'react';\r\nimport styles from './Sidebar.module.scss';\r\nimport Navbar from \"./Navbar/Navbar\";\r\nimport Friendsbar from \"./Friendsbar/Friendsbar\";\r\nimport { connect } from 'react-redux';\r\nimport cn from \"classnames\";\r\n\r\nconst Sidebar = ({friendsList, isOpen}) => {\r\n    return (\r\n       <aside className={cn({[styles.sidebar]: true, [styles.active]: isOpen})}>\r\n           <div className={styles.contentWrapper}>\r\n            <Navbar />\r\n            <Friendsbar friendsList={friendsList}/>\r\n           </div>\r\n       </aside>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    friendsList: state.sidebar.friendsList,\r\n    isOpen: state.sidebar.isSidebarOpen\r\n})\r\n\r\nexport default connect(mapStateToProps, {})(Sidebar);","import styles from \"./News.module.scss\";\r\nimport Info from \"../common/Info/Info\";\r\nimport {CloseSidebar} from  \"../../hoc/CloseSidebar\";\r\n\r\nconst News = props => {\r\n    return (\r\n        <>\r\n        <h2 className={styles.news}>News</h2>\r\n        <Info text={\"This is a test component. Current version of API not supporting this functional yet\"}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CloseSidebar(News);","import styles from \"./Pagination.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nconst PageLink = props => {\r\n    let {pageNumber, onPageChanged, currentPage} = props;\r\n    let currentBoolean = currentPage === pageNumber ? true : false;\r\n\r\n    return (\r\n        <button \r\n            className={cn({\r\n                [styles.pagination_btn]: true,\r\n                [styles.selectedPage]: currentBoolean\r\n            })} \r\n            onClick={() => onPageChanged(pageNumber)}\r\n            disabled={currentBoolean}\r\n        >\r\n            {pageNumber}\r\n        </button>\r\n               \r\n    )\r\n}\r\n\r\nexport default PageLink;","import { useState } from \"react\"\r\nimport styles from \"./Pagination.module.scss\";\r\n\r\nconst UserInput = ({lastPageNumber, goToPage}) => {\r\n    const [inputValue, changeInputValue] = useState(\"\");\r\n    return (\r\n        <div className={styles.userInput}>\r\n            <input type=\"text\" value={inputValue} className={\"entry_field\"} onChange={e => changeInputValue(e.target.value)}/>\r\n            <button\r\n            className={\"submit_btn\"}\r\n            disabled={inputValue === \"\" || inputValue > lastPageNumber || inputValue <= 0 || !(+inputValue) }\r\n            onClick={() => {\r\n                changeInputValue(\"\");\r\n                goToPage(+inputValue)\r\n            }}\r\n            >Go to</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserInput;","import styles from \"./Pagination.module.scss\";\r\nimport PageLink from \"./PageLink\";\r\nimport UserInput from \"./UserInput\";\r\nimport cn from \"classnames\";\r\nimport { Fragment } from \"react\";\r\n\r\n\r\nconst Pagination = ({ currentPage, pagesNumbers, onPageChanged }) => {\r\n    return (\r\n        <div className={styles.paginationContainer}>\r\n            <div className={styles.pagination}>\r\n                {/* previous page button */}\r\n                <button\r\n                    className={cn(styles.pagination_btn, styles.step_btn)} \r\n                    onClick={() => onPageChanged( currentPage - 1 )} \r\n                    disabled={ currentPage === 1 } \r\n                >\r\n                Prev\r\n                </button>\r\n\r\n                {\r\n                    pagesNumbers.map( p => {\r\n                        let ifPageFirst = p === 1;\r\n                        let ifPageLast = p === pagesNumbers[pagesNumbers.length - 1];\r\n\r\n                        if( ifPageFirst ) { //check page first or last\r\n                            return (\r\n\r\n                            <Fragment key={p.toString()}>\r\n                                <PageLink \r\n                                pageNumber={p} \r\n                                onPageChanged={onPageChanged} \r\n                                currentPage={currentPage}\r\n                                />\r\n                                {currentPage >= (p + 4) ? <DotsBetweenPags/> : null}\r\n                            </Fragment>\r\n\r\n                            )\r\n                        } else if (ifPageLast) {\r\n                            return (\r\n\r\n                                <Fragment key={p.toString()}>\r\n                                    {currentPage <= (p - 4) ? <DotsBetweenPags/> : null}\r\n                                    <PageLink \r\n                                    pageNumber={p} \r\n                                    onPageChanged={onPageChanged} \r\n                                    currentPage={currentPage}\r\n                                    />\r\n                                </Fragment>\r\n        \r\n                            )\r\n\r\n                        } else if( ( ( p >= (currentPage - 2) ) && ( p <= (currentPage + 2) ) ) ) { //page in range \"currentPage +- 2\"\r\n                            return (\r\n                                <Fragment key={p.toString()}>\r\n                                    <PageLink \r\n                                        pageNumber={p} \r\n                                        onPageChanged={onPageChanged} \r\n                                        currentPage={currentPage}\r\n                                    />\r\n                                </Fragment>\r\n                            )\r\n                        }\r\n\r\n                        return null;\r\n                    })\r\n                }\r\n\r\n                {/* next page button */}\r\n                <button\r\n                    className={cn(styles.pagination_btn, styles.step_btn)}  \r\n                    onClick={() => onPageChanged( currentPage + 1 )}\r\n                    disabled={ currentPage === pagesNumbers[pagesNumbers.length - 1] } \r\n                >\r\n                Next\r\n                </button>\r\n            </div>\r\n            <UserInput goToPage={onPageChanged} lastPageNumber={pagesNumbers[pagesNumbers.length - 1]}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst DotsBetweenPags = (props) => <span className={styles.dotsWithinPags} key={props.key}>...</span>\r\n\r\nexport default Pagination;","export default __webpack_public_path__ + \"static/media/icons.af7164fe.svg\";","import React from 'react'\r\n\r\nimport icons from './icons.svg'\r\n\r\nconst Icon = props => {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t>\r\n\t\t\t<use xlinkHref={`${icons}#${props.name}`} />\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Icon;","import styles from \"./User.module.scss\";\r\nimport Icon from \"./../Icon/Icon\";\r\nimport defaultAvatar from \"./../../../defaultAvatar.png\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport cn from \"classnames\";\r\n\r\nconst User = props => {\r\n    let {name, id, followed, status, photos} = props.userState;\r\n\r\n    return (\r\n        <li className={styles.user}>\r\n            <div className={styles.userLeft}>\r\n                <img src={photos.small ?? defaultAvatar} alt=\"avatar\" />\r\n                {followed ? <button disabled={props.isFollowing.some(userId => userId === id )} className={cn(styles.followBtn, styles.followed)} onClick={() => props.unFollow(id)}> <Icon name=\"unfollow\"/>Unfollow</button>\r\n                          : <button disabled={props.isFollowing.some(userId => userId === id )} className={cn(styles.followBtn, styles.unfollowed)} onClick={() => props.follow(id)}> <Icon name=\"follow\"/>Follow</button>}\r\n            </div>\r\n            <div className={styles.userRight}>\r\n                <h4 className={styles.userName}>{name}</h4>\r\n                {status && <p className={styles.userStatus}>{status}</p> }\r\n            </div>\r\n            <NavLink to={'/profile/' + id}/>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default User;","import styles from \"./Users.module.scss\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport User from \"./User/User\";\r\n\r\nconst Users = ({ users, totalUsersCount, pageSize, currentPage, onPageChanged, follow, unFollow, isFollowing }) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n        let i, pages = [];\r\n        for(i = 1; i <= pagesCount; i += 1) {\r\n            pages.push(i);\r\n        }\r\n\r\n    return (\r\n        <section className={styles.users}>\r\n            <Pagination currentPage={currentPage} onPageChanged={onPageChanged} pagesNumbers={pages}/>\r\n            <ul className={styles.userList}>\r\n                {users.map(user => {                                                \r\n                    return (\r\n                            <User userState={user} key={user.id} follow={follow} unFollow={unFollow} isFollowing={isFollowing}/>\r\n                            )\r\n                })}\r\n            </ul>\r\n            {currentPage !== pages.length && (\r\n            <div className={styles.showMore}>\r\n                <button onClick={() => {\r\n                    onPageChanged(currentPage + 1)\r\n                    window.scrollTo(0, 0)\r\n                    }}>Show more...</button>\r\n            </div>\r\n            )}\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Users;","import { createSelector } from 'reselect';\r\n\r\nconst getUsersSelector = state => state.usersPage.users;\r\nexport const getUsers = createSelector(getUsersSelector, (users) => users.filter(u => true))\r\n\r\nexport const getPageSize = state => state.usersPage.pageSize;\r\nexport const getTotalUsersCount = state => state.usersPage.totalUsersCount;\r\nexport const getCurrentPage = state => state.usersPage.currentPage;\r\nexport const getFollowingInProgress = state => state.usersPage.followingInProgress;\r\n","import { Component } from \"react\";\r\nimport Users from \"./Users\";\r\nimport Loader from \"../common/Loader/Loader\";\r\nimport { connect } from 'react-redux';\r\nimport { follow, unFollow, setCurrentPage, requestUsers } from './../../redux/users-reducer';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getFollowingInProgress } from \"./../../redux/users-selectors\";\r\nimport { compose } from \"redux\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { CloseSidebar } from \"../../hoc/CloseSidebar\";\r\nclass UsersContainer extends Component {\r\n\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            isFetching: false\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        if(this.props.users.length === 0) {\r\n            this.setState({isFetching: true})\r\n            this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n                .then(() => this.setState({isFetching: false}))\r\n        }\r\n    }\r\n\r\n    onPageChanged = pageNumber => {\r\n        const {pageSize} = this.props\r\n        this.props.setCurrentPage(pageNumber)\r\n        this.props.requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    handleIsFollowing () {\r\n        this.setState({isFollowing: true})\r\n\r\n    }\r\n\r\n    render () {\r\n        return this.state.isFetching ? <Loader /> : \r\n                <Users \r\n                    onPageChanged={this.onPageChanged} \r\n                    users={this.props.users} \r\n                    currentPage={this.props.currentPage}\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    follow={this.props.follow}\r\n                    unFollow={this.props.unFollow}\r\n                    isFollowing={this.props.isFollowing}\r\n                    toggleIsFollowing={this.props.toggleIsFollowing}\r\n                />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFollowing: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unFollow,\r\n        setCurrentPage,\r\n        requestUsers\r\n        }),\r\n    WithAuthRedirect,\r\n    CloseSidebar\r\n)(UsersContainer)","import { Field, Form } from \"react-final-form\";\r\nimport { composeValidators, maxLenghtCreator, requiredField } from \"../../utils/validators\";\r\nimport { CheckBox, Input, Textarea } from \"../common/formsControls/FormsControls\";\r\nimport styles from \"./Settings.module.scss\";\r\nimport cn from \"classnames\";\r\nimport Icon from \"../common/Icon/Icon\";\r\n\r\nconst maxLength30 = maxLenghtCreator(60);\r\nconst maxLength315 = maxLenghtCreator(315);\r\n\r\nconst ProfileEditor = ({saveProfile, profile}) => {\r\n    return (\r\n        <Form\r\n        onSubmit={saveProfile}\r\n        initialValues={{...profile}}\r\n        >\r\n            {\r\n                ({submitError, handleSubmit}) => (\r\n                    <form onSubmit={handleSubmit} className={styles.form}>\r\n                        <div className={styles.mainSettings}>\r\n                            <h2 className={styles.title}>Profile settings:</h2>\r\n\r\n                            <div className={styles.fieldContainer}>\r\n                                <label>\r\n                                    <span>Full Name:</span>\r\n                                    <Field type={\"text\"} validate={composeValidators(requiredField, maxLength30)} component={Input} name={\"fullName\"} placeholder={\"Enter your name\"} />\r\n                                </label>\r\n                            </div>\r\n                            <div className={styles.fieldContainer}>\r\n                                <label>\r\n                                    <span>About me:</span>\r\n                                    <Field validate={maxLength315} component={Textarea} name={\"aboutMe\"} placeholder={\"About you info\"} />\r\n                                </label>\r\n                            </div>\r\n                            <div className={cn(styles.fieldContainer, styles.checkbox)}>\r\n                                <label>\r\n                                    <span>Looking for a job:</span>\r\n                                    <Field component={CheckBox} type=\"checkbox\" name={\"lookingForAJob\"}/>\r\n                                </label>\r\n                            </div>\r\n                            <div className={styles.fieldContainer}>\r\n                                <label>\r\n                                    <span>My professional skills:</span>\r\n                                    <Field validate={maxLength30} component={Textarea} name={\"lookingForAJobDescription\"} placeholder={\"Your skills\"} />\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.contactsContainer}>\r\n                            <h2 className={styles.title}>Contacts:</h2>\r\n\r\n                            {Object.keys(profile.contacts).map(key => {\r\n                                //checking if this field has a invalid URL\r\n                                let invalidUrl;\r\n                                if(submitError && submitError.includes(key[0].toUpperCase() + key.slice(1))) {\r\n                                    invalidUrl = true;\r\n                                }\r\n\r\n                                return (\r\n                                    <div className={cn(styles.fieldContainer, styles.contactContainer)} key={key}>\r\n                                        <label>\r\n                                            <span>{key}</span>\r\n                                            <Field component={Input} type={\"text\"} name={\"contacts.\" + key} placeholder={key} submitError={invalidUrl && \"Invalid url format\"}/>\r\n                                        </label>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                        <button className={cn(\"submit_btn\", styles.submit)}>Save <Icon name=\"save\"/></button>\r\n                    </form>\r\n                )\r\n            }\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default ProfileEditor;\r\n","import { connect } from \"react-redux\";\r\nimport { Component } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { saveProfile } from \"../../redux/profile-reducer\";\r\nimport styles from \"./Settings.module.scss\";\r\nimport Loader from \"../common/Loader/Loader\";\r\nimport ProfileEditor from \"./ProfileEditor\";\r\nimport { CloseSidebar } from \"../../hoc/CloseSidebar\";\r\n\r\nclass Settings extends Component {\r\n    render() {\r\n        return (\r\n            !this.props.profile ? \r\n            <Loader />\r\n            :\r\n            <section className={styles.settings}>\r\n                <ProfileEditor profile={this.props.profile} saveProfile={this.props.saveProfile}/>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    userId: state.auth.userId,\r\n    profile: state.profilePage.ownerProfile\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {saveProfile}),\r\n    WithAuthRedirect,\r\n    CloseSidebar\r\n)(Settings)","import { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Form, Field } from 'react-final-form';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { composeValidators, maxLenghtCreator, requiredField } from \"../../utils/validators\";\r\nimport { CheckBox, Input } from \"../common/formsControls/FormsControls\";\r\nimport styles from \"./Login.module.scss\";\r\nimport cn from \"classnames\";\r\nimport Icon from \"../common/Icon/Icon\";\r\n\r\nconst maxLength50 = maxLenghtCreator(50);\r\n\r\nconst LoginForm = ({onSubmit, captchaUrl}) => {\r\n    return (\r\n        <Form\r\n        onSubmit={onSubmit}\r\n        >\r\n            {\r\n                ({submitError, handleSubmit}) => (\r\n                    <form onSubmit={handleSubmit} className={styles.form}>\r\n                        <div className={styles.fieldContainer}>\r\n                            <Field type={\"text\"} validate={composeValidators(requiredField, maxLength50)} component={Input} name={\"email\"} placeholder={\"Login\"} />\r\n                        </div>\r\n                        <div className={styles.fieldContainer}>\r\n                            <Field component={Input} validate={requiredField} type=\"password\" name={\"password\"} placeholder={\"Password\"} />\r\n                        </div>\r\n                        <label className={styles.remember_label}>\r\n                            <span>Remember me</span>\r\n                            <Field component={CheckBox} type=\"checkbox\" name={\"rememberMe\"} />\r\n                        </label>\r\n                        {\r\n                            submitError && (\r\n                                <div className={styles.formSummaryError}>\r\n                                    <Icon name=\"error_info\"/>\r\n                                    {submitError}\r\n                                </div>\r\n                            )\r\n                        }\r\n                        {\r\n                            captchaUrl && (\r\n                                <div className={styles.captchaContainer}>\r\n                                    <img src={captchaUrl} alt={\"Captcha\"}/>\r\n                                    <Field type={\"text\"} validate={requiredField} component={Input} name={\"captcha\"} placeholder={\"Enter symbols from image\"} />\r\n                                </div>\r\n                            )\r\n                        }\r\n                        <button className={cn(\"submit_btn\", styles.submit)}>Login</button>\r\n                    </form>\r\n                )\r\n            }\r\n        </Form>\r\n    )\r\n}\r\n\r\nconst Login = ({login, captchaUrl, isAuth}) => {\r\n    const onSubmit = (formData) => {\r\n        return login({...formData})\r\n    }\r\n\r\n    if(isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div className={styles.login}>\r\n            <div className={styles.container}>\r\n            <span className={styles.header}>Login</span>\r\n                <LoginForm onSubmit={onSubmit} captchaUrl={captchaUrl} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({auth: {captchaUrl, isAuth}}) => ({ captchaUrl, isAuth })\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import styles from \"./Page404.module.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Page404 = props => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.container}>\r\n                <b className={styles.b}>404</b>\r\n                <br/>\r\n                <span>Page not found</span>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                <NavLink to={\"/profile\"}>Go to Profile page...</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Page404","import { Route, Redirect, withRouter, HashRouter, Switch } from \"react-router-dom\";\r\nimport { Component, lazy } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { initializeApp } from \"./redux/app-reducer\";\r\nimport { compose } from \"redux\";\r\nimport { WithSuspense } from \"./hoc/WithSuspense\";\r\nimport \"./App.scss\";\r\n\r\n\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport News from \"./components/News/News\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Loader from \"./components/common/Loader/Loader\";\r\nimport Page404 from \"./components/common/Page-404/Page404\";\r\n\r\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nclass App extends Component {\r\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n    alert(\"Some error...\");\r\n    console.error(promiseRejectionEvent);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n  }\r\n\r\n  render() {\r\n    if(!this.props.initialized) {\r\n      return <Loader />\r\n    }\r\n\r\n    return (\r\n      <div className=\"app-container\">\r\n        <HeaderContainer/>\r\n        <div className=\"main-wrapper\">\r\n          <Sidebar/>\r\n          <main className=\"main\">\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Redirect to=\"/news\" />\r\n              </Route>\r\n              <Route \r\n                path='/profile/:userID?' \r\n                render={WithSuspense(ProfileContainer)}\r\n              />\r\n              <Route \r\n                path='/dialogs/:dialogID?' \r\n                render={WithSuspense(DialogsContainer)}\r\n              />\r\n              <Route path='/news' render={() => <News/>}/>\r\n              <Route path='/users' render={() => <UsersContainer/>}/>\r\n              <Route path='/settings' render={() => <Settings/>}/>\r\n              <Route path='/login' render={() => <Login />} />\r\n              <Route path='*' render={() => <Page404/> } />\r\n            </Switch>\r\n          </main>\r\n        </div> \r\n      </div>\r\n  );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App);\r\n\r\nconst SocialApp = props => {\r\n  return (\r\n    <HashRouter>\r\n        <Provider store={store}>\r\n          <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default SocialApp;","// import reportWebVitals from './reportWebVitals';\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport SocialApp from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n  <SocialApp />,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals(renderEntireTree(store.getState()));\r\n"],"sourceRoot":""}